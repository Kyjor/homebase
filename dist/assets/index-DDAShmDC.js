(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function da(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function mp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var i=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),i}var $l={exports:{}},wi={},Dl={exports:{}},xe={},id;function yp(){if(id)return xe;id=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function T(E,$,ve){this.props=E,this.context=$,this.refs=N,this.updater=ve||k}T.prototype.isReactComponent={},T.prototype.setState=function(E,$){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,$,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=T.prototype;function J(E,$,ve){this.props=E,this.context=$,this.refs=N,this.updater=ve||k}var I=J.prototype=new V;I.constructor=J,R(I,T.prototype),I.isPureReactComponent=!0;var K=Array.isArray,ce=Object.prototype.hasOwnProperty,ee={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ue(E,$,ve){var we,ke={},be=null,Re=null;if($!=null)for(we in $.ref!==void 0&&(Re=$.ref),$.key!==void 0&&(be=""+$.key),$)ce.call($,we)&&!Q.hasOwnProperty(we)&&(ke[we]=$[we]);var je=arguments.length-2;if(je===1)ke.children=ve;else if(1<je){for(var Ae=Array(je),st=0;st<je;st++)Ae[st]=arguments[st+2];ke.children=Ae}if(E&&E.defaultProps)for(we in je=E.defaultProps,je)ke[we]===void 0&&(ke[we]=je[we]);return{$$typeof:u,type:E,key:be,ref:Re,props:ke,_owner:ee.current}}function B(E,$){return{$$typeof:u,type:E.type,key:$,ref:E.ref,props:E.props,_owner:E._owner}}function G(E){return typeof E=="object"&&E!==null&&E.$$typeof===u}function A(E){var $={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ve){return $[ve]})}var O=/\/+/g;function z(E,$){return typeof E=="object"&&E!==null&&E.key!=null?A(""+E.key):$.toString(36)}function D(E,$,ve,we,ke){var be=typeof E;(be==="undefined"||be==="boolean")&&(E=null);var Re=!1;if(E===null)Re=!0;else switch(be){case"string":case"number":Re=!0;break;case"object":switch(E.$$typeof){case u:case r:Re=!0}}if(Re)return Re=E,ke=ke(Re),E=we===""?"."+z(Re,0):we,K(ke)?(ve="",E!=null&&(ve=E.replace(O,"$&/")+"/"),D(ke,$,ve,"",function(st){return st})):ke!=null&&(G(ke)&&(ke=B(ke,ve+(!ke.key||Re&&Re.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+E)),$.push(ke)),1;if(Re=0,we=we===""?".":we+":",K(E))for(var je=0;je<E.length;je++){be=E[je];var Ae=we+z(be,je);Re+=D(be,$,ve,Ae,ke)}else if(Ae=b(E),typeof Ae=="function")for(E=Ae.call(E),je=0;!(be=E.next()).done;)be=be.value,Ae=we+z(be,je++),Re+=D(be,$,ve,Ae,ke);else if(be==="object")throw $=String(E),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Re}function ie(E,$,ve){if(E==null)return E;var we=[],ke=0;return D(E,we,"","",function(be){return $.call(ve,be,ke++)}),we}function _e(E){if(E._status===-1){var $=E._result;$=$(),$.then(function(ve){(E._status===0||E._status===-1)&&(E._status=1,E._result=ve)},function(ve){(E._status===0||E._status===-1)&&(E._status=2,E._result=ve)}),E._status===-1&&(E._status=0,E._result=$)}if(E._status===1)return E._result.default;throw E._result}var me={current:null},H={transition:null},ae={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:H,ReactCurrentOwner:ee};function Y(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:ie,forEach:function(E,$,ve){ie(E,function(){$.apply(this,arguments)},ve)},count:function(E){var $=0;return ie(E,function(){$++}),$},toArray:function(E){return ie(E,function($){return $})||[]},only:function(E){if(!G(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},xe.Component=T,xe.Fragment=i,xe.Profiler=a,xe.PureComponent=J,xe.StrictMode=o,xe.Suspense=g,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,xe.act=Y,xe.cloneElement=function(E,$,ve){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var we=R({},E.props),ke=E.key,be=E.ref,Re=E._owner;if($!=null){if($.ref!==void 0&&(be=$.ref,Re=ee.current),$.key!==void 0&&(ke=""+$.key),E.type&&E.type.defaultProps)var je=E.type.defaultProps;for(Ae in $)ce.call($,Ae)&&!Q.hasOwnProperty(Ae)&&(we[Ae]=$[Ae]===void 0&&je!==void 0?je[Ae]:$[Ae])}var Ae=arguments.length-2;if(Ae===1)we.children=ve;else if(1<Ae){je=Array(Ae);for(var st=0;st<Ae;st++)je[st]=arguments[st+2];we.children=je}return{$$typeof:u,type:E.type,key:ke,ref:be,props:we,_owner:Re}},xe.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:d,_context:E},E.Consumer=E},xe.createElement=ue,xe.createFactory=function(E){var $=ue.bind(null,E);return $.type=E,$},xe.createRef=function(){return{current:null}},xe.forwardRef=function(E){return{$$typeof:p,render:E}},xe.isValidElement=G,xe.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:_e}},xe.memo=function(E,$){return{$$typeof:y,type:E,compare:$===void 0?null:$}},xe.startTransition=function(E){var $=H.transition;H.transition={};try{E()}finally{H.transition=$}},xe.unstable_act=Y,xe.useCallback=function(E,$){return me.current.useCallback(E,$)},xe.useContext=function(E){return me.current.useContext(E)},xe.useDebugValue=function(){},xe.useDeferredValue=function(E){return me.current.useDeferredValue(E)},xe.useEffect=function(E,$){return me.current.useEffect(E,$)},xe.useId=function(){return me.current.useId()},xe.useImperativeHandle=function(E,$,ve){return me.current.useImperativeHandle(E,$,ve)},xe.useInsertionEffect=function(E,$){return me.current.useInsertionEffect(E,$)},xe.useLayoutEffect=function(E,$){return me.current.useLayoutEffect(E,$)},xe.useMemo=function(E,$){return me.current.useMemo(E,$)},xe.useReducer=function(E,$,ve){return me.current.useReducer(E,$,ve)},xe.useRef=function(E){return me.current.useRef(E)},xe.useState=function(E){return me.current.useState(E)},xe.useSyncExternalStore=function(E,$,ve){return me.current.useSyncExternalStore(E,$,ve)},xe.useTransition=function(){return me.current.useTransition()},xe.version="18.3.1",xe}var sd;function fa(){return sd||(sd=1,Dl.exports=yp()),Dl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function vp(){if(od)return wi;od=1;var u=fa(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,y){var v,_={},b=null,k=null;y!==void 0&&(b=""+y),g.key!==void 0&&(b=""+g.key),g.ref!==void 0&&(k=g.ref);for(v in g)o.call(g,v)&&!d.hasOwnProperty(v)&&(_[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:r,type:p,key:b,ref:k,props:_,_owner:a.current}}return wi.Fragment=i,wi.jsx=f,wi.jsxs=f,wi}var ld;function wp(){return ld||(ld=1,$l.exports=vp()),$l.exports}var m=wp(),L=fa();const at=da(L);var $s={},Ml={exports:{}},pt={},Ul={exports:{}},Wl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function _p(){return ad||(ad=1,function(u){function r(H,ae){var Y=H.length;H.push(ae);e:for(;0<Y;){var E=Y-1>>>1,$=H[E];if(0<a($,ae))H[E]=ae,H[Y]=$,Y=E;else break e}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var ae=H[0],Y=H.pop();if(Y!==ae){H[0]=Y;e:for(var E=0,$=H.length,ve=$>>>1;E<ve;){var we=2*(E+1)-1,ke=H[we],be=we+1,Re=H[be];if(0>a(ke,Y))be<$&&0>a(Re,ke)?(H[E]=Re,H[be]=Y,E=be):(H[E]=ke,H[we]=Y,E=we);else if(be<$&&0>a(Re,Y))H[E]=Re,H[be]=Y,E=be;else break e}}return ae}function a(H,ae){var Y=H.sortIndex-ae.sortIndex;return Y!==0?Y:H.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],y=[],v=1,_=null,b=3,k=!1,R=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var ae=i(y);ae!==null;){if(ae.callback===null)o(y);else if(ae.startTime<=H)o(y),ae.sortIndex=ae.expirationTime,r(g,ae);else break;ae=i(y)}}function K(H){if(N=!1,I(H),!R)if(i(g)!==null)R=!0,_e(ce);else{var ae=i(y);ae!==null&&me(K,ae.startTime-H)}}function ce(H,ae){R=!1,N&&(N=!1,V(ue),ue=-1),k=!0;var Y=b;try{for(I(ae),_=i(g);_!==null&&(!(_.expirationTime>ae)||H&&!A());){var E=_.callback;if(typeof E=="function"){_.callback=null,b=_.priorityLevel;var $=E(_.expirationTime<=ae);ae=u.unstable_now(),typeof $=="function"?_.callback=$:_===i(g)&&o(g),I(ae)}else o(g);_=i(g)}if(_!==null)var ve=!0;else{var we=i(y);we!==null&&me(K,we.startTime-ae),ve=!1}return ve}finally{_=null,b=Y,k=!1}}var ee=!1,Q=null,ue=-1,B=5,G=-1;function A(){return!(u.unstable_now()-G<B)}function O(){if(Q!==null){var H=u.unstable_now();G=H;var ae=!0;try{ae=Q(!0,H)}finally{ae?z():(ee=!1,Q=null)}}else ee=!1}var z;if(typeof J=="function")z=function(){J(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ie=D.port2;D.port1.onmessage=O,z=function(){ie.postMessage(null)}}else z=function(){T(O,0)};function _e(H){Q=H,ee||(ee=!0,z())}function me(H,ae){ue=T(function(){H(u.unstable_now())},ae)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(H){H.callback=null},u.unstable_continueExecution=function(){R||k||(R=!0,_e(ce))},u.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},u.unstable_getCurrentPriorityLevel=function(){return b},u.unstable_getFirstCallbackNode=function(){return i(g)},u.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var Y=b;b=ae;try{return H()}finally{b=Y}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=b;b=H;try{return ae()}finally{b=Y}},u.unstable_scheduleCallback=function(H,ae,Y){var E=u.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?E+Y:E):Y=E,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Y+$,H={id:v++,callback:ae,priorityLevel:H,startTime:Y,expirationTime:$,sortIndex:-1},Y>E?(H.sortIndex=Y,r(y,H),i(g)===null&&H===i(y)&&(N?(V(ue),ue=-1):N=!0,me(K,Y-E))):(H.sortIndex=$,r(g,H),R||k||(R=!0,_e(ce))),H},u.unstable_shouldYield=A,u.unstable_wrapCallback=function(H){var ae=b;return function(){var Y=b;b=ae;try{return H.apply(this,arguments)}finally{b=Y}}}}(Wl)),Wl}var ud;function xp(){return ud||(ud=1,Ul.exports=_p()),Ul.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function Sp(){if(cd)return pt;cd=1;var u=fa(),r=xp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function b(e){return g.call(_,e)?!0:g.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function k(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,n,s){if(t===null||typeof t>"u"||k(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,n,s,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,J);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,J);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,J);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,n,s){var l=T.hasOwnProperty(t)?T[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,n,l,s)&&(n=null),s||l===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var K=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),ee=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),H=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,E;function $(e){if(E===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var ve=!1;function we(e,t){if(!e||ve)return"";ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),c=s.stack.split(`
`),h=l.length-1,w=c.length-1;1<=h&&0<=w&&l[h]!==c[w];)w--;for(;1<=h&&0<=w;h--,w--)if(l[h]!==c[w]){if(h!==1||w!==1)do if(h--,w--,0>w||l[h]!==c[w]){var x=`
`+l[h].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=h&&0<=w);break}}}finally{ve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function ke(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=we(e.type,!1),e;case 11:return e=we(e.type.render,!1),e;case 1:return e=we(e.type,!0),e;default:return""}}function be(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case ee:return"Portal";case B:return"Profiler";case ue:return"StrictMode";case z:return"Suspense";case D:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(t);case 8:return t===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ae(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function st(e){var t=Ae(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kn(e){e._valueTracker||(e._valueTracker=st(e))}function Hn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ae(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function bn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vn(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function F(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=je(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function te(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function X(e,t){te(e,t);var n=je(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?de(e,t.type,n):t.hasOwnProperty("defaultValue")&&de(e,t.type,je(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function de(e,t,n){(t!=="number"||bn(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Te=Array.isArray;function Ce(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+je(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ye(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _t(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(Te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:je(n)}}function Kn(e,t){var n=je(t.value),s=je(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ci(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var En,Ri=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(En=En||document.createElement("div"),En.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=En.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_f=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){_f.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function wa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function _a(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=wa(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var xf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(e,t){if(t){if(xf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Js(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xs=null,Jn=null,Gn=null;function xa(e){if(e=ii(e)){if(typeof Xs!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Xi(t),Xs(e.stateNode,e.type,t))}}function Sa(e){Jn?Gn?Gn.push(e):Gn=[e]:Jn=e}function ka(){if(Jn){var e=Jn,t=Gn;if(Gn=Jn=null,xa(e),t)for(e=0;e<t.length;e++)xa(t[e])}}function ba(e,t){return e(t)}function Ea(){}var Zs=!1;function ja(e,t,n){if(Zs)return e(t,n);Zs=!0;try{return ba(e,t,n)}finally{Zs=!1,(Jn!==null||Gn!==null)&&(Ea(),ka())}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var s=Xi(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var eo=!1;if(p)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{eo=!1}function Sf(e,t,n,s,l,c,h,w,x){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(U){this.onError(U)}}var Mr=!1,Ti=null,Oi=!1,to=null,kf={onError:function(e){Mr=!0,Ti=e}};function bf(e,t,n,s,l,c,h,w,x){Mr=!1,Ti=null,Sf.apply(kf,arguments)}function Ef(e,t,n,s,l,c,h,w,x){if(bf.apply(this,arguments),Mr){if(Mr){var P=Ti;Mr=!1,Ti=null}else throw Error(i(198));Oi||(Oi=!0,to=P)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ca(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pa(e){if(Cn(e)!==e)throw Error(i(188))}function jf(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return Pa(l),e;if(c===s)return Pa(l),t;c=c.sibling}throw Error(i(188))}if(n.return!==s.return)n=l,s=c;else{for(var h=!1,w=l.child;w;){if(w===n){h=!0,n=l,s=c;break}if(w===s){h=!0,s=l,n=c;break}w=w.sibling}if(!h){for(w=c.child;w;){if(w===n){h=!0,n=c,s=l;break}if(w===s){h=!0,s=c,n=l;break}w=w.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ra(e){return e=jf(e),e!==null?Ta(e):null}function Ta(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ta(e);if(t!==null)return t;e=e.sibling}return null}var Oa=r.unstable_scheduleCallback,Aa=r.unstable_cancelCallback,Cf=r.unstable_shouldYield,Pf=r.unstable_requestPaint,We=r.unstable_now,Rf=r.unstable_getCurrentPriorityLevel,no=r.unstable_ImmediatePriority,La=r.unstable_UserBlockingPriority,Ai=r.unstable_NormalPriority,Tf=r.unstable_LowPriority,Ia=r.unstable_IdlePriority,Li=null,Nt=null;function Of(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:If,Af=Math.log,Lf=Math.LN2;function If(e){return e>>>=0,e===0?32:31-(Af(e)/Lf|0)|0}var Ii=64,zi=4194304;function Ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var w=h&~l;w!==0?s=Ur(w):(c&=h,c!==0&&(s=Ur(c)))}else h=n&~l,h!==0?s=Ur(h):c!==0&&(s=Ur(c));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ct(t),l=1<<n,s|=e[n],t&=~l;return s}function zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-Ct(c),w=1<<h,x=l[h];x===-1?((w&n)===0||(w&s)!==0)&&(l[h]=zf(w,t)):x<=t&&(e.expiredLanes|=w),c&=~w}}function ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function za(){var e=Ii;return Ii<<=1,(Ii&4194240)===0&&(Ii=64),e}function io(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function $f(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ct(n),c=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~c}}function so(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ct(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var Oe=0;function Na(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $a,oo,Da,Ma,Ua,lo=!1,$i=[],Xt=null,Zt=null,en=null,Fr=new Map,Br=new Map,tn=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function qr(e,t,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=ii(t),t!==null&&oo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Mf(e,t,n,s,l){switch(t){case"focusin":return Xt=qr(Xt,e,t,n,s,l),!0;case"dragenter":return Zt=qr(Zt,e,t,n,s,l),!0;case"mouseover":return en=qr(en,e,t,n,s,l),!0;case"pointerover":var c=l.pointerId;return Fr.set(c,qr(Fr.get(c)||null,e,t,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,Br.set(c,qr(Br.get(c)||null,e,t,n,s,l)),!0}return!1}function Fa(e){var t=Pn(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ca(n),t!==null){e.blockedOn=t,Ua(e.priority,function(){Da(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Di(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Gs=s,n.target.dispatchEvent(s),Gs=null}else return t=ii(n),t!==null&&oo(t),e.blockedOn=n,!1;t.shift()}return!0}function Ba(e,t,n){Di(e)&&n.delete(t)}function Uf(){lo=!1,Xt!==null&&Di(Xt)&&(Xt=null),Zt!==null&&Di(Zt)&&(Zt=null),en!==null&&Di(en)&&(en=null),Fr.forEach(Ba),Br.forEach(Ba)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,lo||(lo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uf)))}function Vr(e){function t(l){return Hr(l,e)}if(0<$i.length){Hr($i[0],e);for(var n=1;n<$i.length;n++){var s=$i[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Xt!==null&&Hr(Xt,e),Zt!==null&&Hr(Zt,e),en!==null&&Hr(en,e),Fr.forEach(t),Br.forEach(t),n=0;n<tn.length;n++)s=tn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Fa(n),n.blockedOn===null&&tn.shift()}var Yn=K.ReactCurrentBatchConfig,Mi=!0;function Wf(e,t,n,s){var l=Oe,c=Yn.transition;Yn.transition=null;try{Oe=1,ao(e,t,n,s)}finally{Oe=l,Yn.transition=c}}function Ff(e,t,n,s){var l=Oe,c=Yn.transition;Yn.transition=null;try{Oe=4,ao(e,t,n,s)}finally{Oe=l,Yn.transition=c}}function ao(e,t,n,s){if(Mi){var l=uo(e,t,n,s);if(l===null)Co(e,t,s,Ui,n),Wa(e,s);else if(Mf(l,e,t,n,s))s.stopPropagation();else if(Wa(e,s),t&4&&-1<Df.indexOf(e)){for(;l!==null;){var c=ii(l);if(c!==null&&$a(c),c=uo(e,t,n,s),c===null&&Co(e,t,s,Ui,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else Co(e,t,s,null,n)}}var Ui=null;function uo(e,t,n,s){if(Ui=null,e=Ys(s),e=Pn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ca(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function qa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rf()){case no:return 1;case La:return 4;case Ai:case Tf:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var nn=null,co=null,Wi=null;function Ha(){if(Wi)return Wi;var e,t=co,n=t.length,s,l="value"in nn?nn.value:nn.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===l[c-s];s++);return Wi=l.slice(e,1<s?1-s:void 0)}function Fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Va(){return!1}function mt(e){function t(n,s,l,c,h){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(c):c[w]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Bi:Va,this.isPropagationStopped=Va,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=mt(Xn),Kr=Y({},Xn,{view:0,detail:0}),Bf=mt(Kr),ho,po,Qr,qi=Y({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(ho=e.screenX-Qr.screenX,po=e.screenY-Qr.screenY):po=ho=0,Qr=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:po}}),Ka=mt(qi),qf=Y({},qi,{dataTransfer:0}),Hf=mt(qf),Vf=Y({},Kr,{relatedTarget:0}),go=mt(Vf),Kf=Y({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=mt(Kf),Jf=Y({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gf=mt(Jf),Yf=Y({},Xn,{data:0}),Qa=mt(Yf),Xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eh[e])?!!t[e]:!1}function mo(){return th}var nh=Y({},Kr,{key:function(e){if(e.key){var t=Xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rh=mt(nh),ih=Y({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=mt(ih),sh=Y({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),oh=mt(sh),lh=Y({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ah=mt(lh),uh=Y({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ch=mt(uh),dh=[9,13,27,32],yo=p&&"CompositionEvent"in window,Jr=null;p&&"documentMode"in document&&(Jr=document.documentMode);var fh=p&&"TextEvent"in window&&!Jr,Ga=p&&(!yo||Jr&&8<Jr&&11>=Jr),Ya=" ",Xa=!1;function Za(e,t){switch(e){case"keyup":return dh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function hh(e,t){switch(e){case"compositionend":return eu(t);case"keypress":return t.which!==32?null:(Xa=!0,Ya);case"textInput":return e=t.data,e===Ya&&Xa?null:e;default:return null}}function ph(e,t){if(Zn)return e==="compositionend"||!yo&&Za(e,t)?(e=Ha(),Wi=co=nn=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ga&&t.locale!=="ko"?null:t.data;default:return null}}var gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gh[e.type]:t==="textarea"}function nu(e,t,n,s){Sa(s),t=Ji(t,"onChange"),0<t.length&&(n=new fo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Gr=null,Yr=null;function mh(e){_u(e,0)}function Hi(e){var t=ir(e);if(Hn(t))return e}function yh(e,t){if(e==="change")return t}var ru=!1;if(p){var vo;if(p){var wo="oninput"in document;if(!wo){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),wo=typeof iu.oninput=="function"}vo=wo}else vo=!1;ru=vo&&(!document.documentMode||9<document.documentMode)}function su(){Gr&&(Gr.detachEvent("onpropertychange",ou),Yr=Gr=null)}function ou(e){if(e.propertyName==="value"&&Hi(Yr)){var t=[];nu(t,Yr,e,Ys(e)),ja(mh,t)}}function vh(e,t,n){e==="focusin"?(su(),Gr=t,Yr=n,Gr.attachEvent("onpropertychange",ou)):e==="focusout"&&su()}function wh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(Yr)}function _h(e,t){if(e==="click")return Hi(t)}function xh(e,t){if(e==="input"||e==="change")return Hi(t)}function Sh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Sh;function Xr(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!g.call(t,l)||!Pt(e[l],t[l]))return!1}return!0}function lu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function au(e,t){var n=lu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lu(n)}}function uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cu(){for(var e=window,t=bn();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bn(e.document)}return t}function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kh(e){var t=cu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uu(n.ownerDocument.documentElement,n)){if(s!==null&&_o(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!e.extend&&c>s&&(l=s,s=c,c=l),l=au(n,c);var h=au(n,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bh=p&&"documentMode"in document&&11>=document.documentMode,er=null,xo=null,Zr=null,So=!1;function du(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;So||er==null||er!==bn(s)||(s=er,"selectionStart"in s&&_o(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zr&&Xr(Zr,s)||(Zr=s,s=Ji(xo,"onSelect"),0<s.length&&(t=new fo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=er)))}function Vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},ko={},fu={};p&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function Ki(e){if(ko[e])return ko[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fu)return ko[e]=t[n];return e}var hu=Ki("animationend"),pu=Ki("animationiteration"),gu=Ki("animationstart"),mu=Ki("transitionend"),yu=new Map,vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){yu.set(e,t),d(t,[e])}for(var bo=0;bo<vu.length;bo++){var Eo=vu[bo],Eh=Eo.toLowerCase(),jh=Eo[0].toUpperCase()+Eo.slice(1);rn(Eh,"on"+jh)}rn(hu,"onAnimationEnd"),rn(pu,"onAnimationIteration"),rn(gu,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(mu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ch=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function wu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ef(s,t,void 0,e),e.currentTarget=null}function _u(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var w=s[h],x=w.instance,P=w.currentTarget;if(w=w.listener,x!==c&&l.isPropagationStopped())break e;wu(l,w,P),c=x}else for(h=0;h<s.length;h++){if(w=s[h],x=w.instance,P=w.currentTarget,w=w.listener,x!==c&&l.isPropagationStopped())break e;wu(l,w,P),c=x}}}if(Oi)throw e=to,Oi=!1,to=null,e}function ze(e,t){var n=t[Lo];n===void 0&&(n=t[Lo]=new Set);var s=e+"__bubble";n.has(s)||(xu(t,e,2,!1),n.add(s))}function jo(e,t,n){var s=0;t&&(s|=4),xu(n,e,s,t)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Qi]){e[Qi]=!0,o.forEach(function(n){n!=="selectionchange"&&(Ch.has(n)||jo(n,!1,e),jo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qi]||(t[Qi]=!0,jo("selectionchange",!1,t))}}function xu(e,t,n,s){switch(qa(t)){case 1:var l=Wf;break;case 4:l=Ff;break;default:l=ao}n=l.bind(null,t,n,e),l=void 0,!eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Co(e,t,n,s,l){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var w=s.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===l||x.nodeType===8&&x.parentNode===l))return;h=h.return}for(;w!==null;){if(h=Pn(w),h===null)return;if(x=h.tag,x===5||x===6){s=c=h;continue e}w=w.parentNode}}s=s.return}ja(function(){var P=c,U=Ys(n),W=[];e:{var M=yu.get(e);if(M!==void 0){var Z=fo,re=e;switch(e){case"keypress":if(Fi(n)===0)break e;case"keydown":case"keyup":Z=rh;break;case"focusin":re="focus",Z=go;break;case"focusout":re="blur",Z=go;break;case"beforeblur":case"afterblur":Z=go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=oh;break;case hu:case pu:case gu:Z=Qf;break;case mu:Z=ah;break;case"scroll":Z=Bf;break;case"wheel":Z=ch;break;case"copy":case"cut":case"paste":Z=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ja}var se=(t&4)!==0,Fe=!se&&e==="scroll",j=se?M!==null?M+"Capture":null:M;se=[];for(var S=P,C;S!==null;){C=S;var q=C.stateNode;if(C.tag===5&&q!==null&&(C=q,j!==null&&(q=$r(S,j),q!=null&&se.push(ni(S,q,C)))),Fe)break;S=S.return}0<se.length&&(M=new Z(M,re,null,n,U),W.push({event:M,listeners:se}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",M&&n!==Gs&&(re=n.relatedTarget||n.fromElement)&&(Pn(re)||re[Wt]))break e;if((Z||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,Z?(re=n.relatedTarget||n.toElement,Z=P,re=re?Pn(re):null,re!==null&&(Fe=Cn(re),re!==Fe||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=P),Z!==re)){if(se=Ka,q="onMouseLeave",j="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(se=Ja,q="onPointerLeave",j="onPointerEnter",S="pointer"),Fe=Z==null?M:ir(Z),C=re==null?M:ir(re),M=new se(q,S+"leave",Z,n,U),M.target=Fe,M.relatedTarget=C,q=null,Pn(U)===P&&(se=new se(j,S+"enter",re,n,U),se.target=C,se.relatedTarget=Fe,q=se),Fe=q,Z&&re)t:{for(se=Z,j=re,S=0,C=se;C;C=nr(C))S++;for(C=0,q=j;q;q=nr(q))C++;for(;0<S-C;)se=nr(se),S--;for(;0<C-S;)j=nr(j),C--;for(;S--;){if(se===j||j!==null&&se===j.alternate)break t;se=nr(se),j=nr(j)}se=null}else se=null;Z!==null&&Su(W,M,Z,se,!1),re!==null&&Fe!==null&&Su(W,Fe,re,se,!0)}}e:{if(M=P?ir(P):window,Z=M.nodeName&&M.nodeName.toLowerCase(),Z==="select"||Z==="input"&&M.type==="file")var le=yh;else if(tu(M))if(ru)le=xh;else{le=wh;var fe=vh}else(Z=M.nodeName)&&Z.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(le=_h);if(le&&(le=le(e,P))){nu(W,le,n,U);break e}fe&&fe(e,M,P),e==="focusout"&&(fe=M._wrapperState)&&fe.controlled&&M.type==="number"&&de(M,"number",M.value)}switch(fe=P?ir(P):window,e){case"focusin":(tu(fe)||fe.contentEditable==="true")&&(er=fe,xo=P,Zr=null);break;case"focusout":Zr=xo=er=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,du(W,n,U);break;case"selectionchange":if(bh)break;case"keydown":case"keyup":du(W,n,U)}var he;if(yo)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Zn?Za(e,n)&&(pe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(pe="onCompositionStart");pe&&(Ga&&n.locale!=="ko"&&(Zn||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Zn&&(he=Ha()):(nn=U,co="value"in nn?nn.value:nn.textContent,Zn=!0)),fe=Ji(P,pe),0<fe.length&&(pe=new Qa(pe,e,null,n,U),W.push({event:pe,listeners:fe}),he?pe.data=he:(he=eu(n),he!==null&&(pe.data=he)))),(he=fh?hh(e,n):ph(e,n))&&(P=Ji(P,"onBeforeInput"),0<P.length&&(U=new Qa("onBeforeInput","beforeinput",null,n,U),W.push({event:U,listeners:P}),U.data=he))}_u(W,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ji(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=$r(e,n),c!=null&&s.unshift(ni(e,c,l)),c=$r(e,t),c!=null&&s.push(ni(e,c,l))),e=e.return}return s}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,n,s,l){for(var c=t._reactName,h=[];n!==null&&n!==s;){var w=n,x=w.alternate,P=w.stateNode;if(x!==null&&x===s)break;w.tag===5&&P!==null&&(w=P,l?(x=$r(n,c),x!=null&&h.unshift(ni(n,x,w))):l||(x=$r(n,c),x!=null&&h.push(ni(n,x,w)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Ph=/\r\n?/g,Rh=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(Ph,`
`).replace(Rh,"")}function Gi(e,t,n){if(t=ku(t),ku(e)!==t&&n)throw Error(i(425))}function Yi(){}var Po=null,Ro=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,Th=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,Oh=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(e){return bu.resolve(null).then(e).catch(Ah)}:Oo;function Ah(e){setTimeout(function(){throw e})}function Ao(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Vr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Vr(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),$t="__reactFiber$"+rr,ri="__reactProps$"+rr,Wt="__reactContainer$"+rr,Lo="__reactEvents$"+rr,Lh="__reactListeners$"+rr,Ih="__reactHandles$"+rr;function Pn(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eu(e);e!==null;){if(n=e[$t])return n;e=Eu(e)}return t}e=n,n=e.parentNode}return null}function ii(e){return e=e[$t]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Xi(e){return e[ri]||null}var Io=[],sr=-1;function on(e){return{current:e}}function Ne(e){0>sr||(e.current=Io[sr],Io[sr]=null,sr--)}function Le(e,t){sr++,Io[sr]=e.current,e.current=t}var ln={},et=on(ln),ut=on(!1),Rn=ln;function or(e,t){var n=e.type.contextTypes;if(!n)return ln;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ct(e){return e=e.childContextTypes,e!=null}function Zi(){Ne(ut),Ne(et)}function ju(e,t,n){if(et.current!==ln)throw Error(i(168));Le(et,t),Le(ut,n)}function Cu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(i(108,Re(e)||"Unknown",l));return Y({},n,s)}function es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,Rn=et.current,Le(et,e),Le(ut,ut.current),!0}function Pu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=Cu(e,t,Rn),s.__reactInternalMemoizedMergedChildContext=e,Ne(ut),Ne(et),Le(et,e)):Ne(ut),Le(ut,n)}var Ft=null,ts=!1,zo=!1;function Ru(e){Ft===null?Ft=[e]:Ft.push(e)}function zh(e){ts=!0,Ru(e)}function an(){if(!zo&&Ft!==null){zo=!0;var e=0,t=Oe;try{var n=Ft;for(Oe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ft=null,ts=!1}catch(l){throw Ft!==null&&(Ft=Ft.slice(e+1)),Oa(no,an),l}finally{Oe=t,zo=!1}}return null}var lr=[],ar=0,ns=null,rs=0,xt=[],St=0,Tn=null,Bt=1,qt="";function On(e,t){lr[ar++]=rs,lr[ar++]=ns,ns=e,rs=t}function Tu(e,t,n){xt[St++]=Bt,xt[St++]=qt,xt[St++]=Tn,Tn=e;var s=Bt;e=qt;var l=32-Ct(s)-1;s&=~(1<<l),n+=1;var c=32-Ct(t)+l;if(30<c){var h=l-l%5;c=(s&(1<<h)-1).toString(32),s>>=h,l-=h,Bt=1<<32-Ct(t)+l|n<<l|s,qt=c+e}else Bt=1<<c|n<<l|s,qt=e}function No(e){e.return!==null&&(On(e,1),Tu(e,1,0))}function $o(e){for(;e===ns;)ns=lr[--ar],lr[ar]=null,rs=lr[--ar],lr[ar]=null;for(;e===Tn;)Tn=xt[--St],xt[St]=null,qt=xt[--St],xt[St]=null,Bt=xt[--St],xt[St]=null}var yt=null,vt=null,$e=!1,Rt=null;function Ou(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Au(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tn!==null?{id:Bt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,vt=null,!0):!1;default:return!1}}function Do(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mo(e){if($e){var t=vt;if(t){var n=t;if(!Au(e,t)){if(Do(e))throw Error(i(418));t=sn(n.nextSibling);var s=yt;t&&Au(e,t)?Ou(s,n):(e.flags=e.flags&-4097|2,$e=!1,yt=e)}}else{if(Do(e))throw Error(i(418));e.flags=e.flags&-4097|2,$e=!1,yt=e}}}function Lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function is(e){if(e!==yt)return!1;if(!$e)return Lu(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=vt)){if(Do(e))throw Iu(),Error(i(418));for(;t;)Ou(e,t),t=sn(t.nextSibling)}if(Lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?sn(e.stateNode.nextSibling):null;return!0}function Iu(){for(var e=vt;e;)e=sn(e.nextSibling)}function ur(){vt=yt=null,$e=!1}function Uo(e){Rt===null?Rt=[e]:Rt.push(e)}var Nh=K.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var l=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var w=l.refs;h===null?delete w[c]:w[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zu(e){var t=e._init;return t(e._payload)}function Nu(e){function t(j,S){if(e){var C=j.deletions;C===null?(j.deletions=[S],j.flags|=16):C.push(S)}}function n(j,S){if(!e)return null;for(;S!==null;)t(j,S),S=S.sibling;return null}function s(j,S){for(j=new Map;S!==null;)S.key!==null?j.set(S.key,S):j.set(S.index,S),S=S.sibling;return j}function l(j,S){return j=mn(j,S),j.index=0,j.sibling=null,j}function c(j,S,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<S?(j.flags|=2,S):C):(j.flags|=2,S)):(j.flags|=1048576,S)}function h(j){return e&&j.alternate===null&&(j.flags|=2),j}function w(j,S,C,q){return S===null||S.tag!==6?(S=Ol(C,j.mode,q),S.return=j,S):(S=l(S,C),S.return=j,S)}function x(j,S,C,q){var le=C.type;return le===Q?U(j,S,C.props.children,q,C.key):S!==null&&(S.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===_e&&zu(le)===S.type)?(q=l(S,C.props),q.ref=si(j,S,C),q.return=j,q):(q=Rs(C.type,C.key,C.props,null,j.mode,q),q.ref=si(j,S,C),q.return=j,q)}function P(j,S,C,q){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Al(C,j.mode,q),S.return=j,S):(S=l(S,C.children||[]),S.return=j,S)}function U(j,S,C,q,le){return S===null||S.tag!==7?(S=Mn(C,j.mode,q,le),S.return=j,S):(S=l(S,C),S.return=j,S)}function W(j,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ol(""+S,j.mode,C),S.return=j,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ce:return C=Rs(S.type,S.key,S.props,null,j.mode,C),C.ref=si(j,null,S),C.return=j,C;case ee:return S=Al(S,j.mode,C),S.return=j,S;case _e:var q=S._init;return W(j,q(S._payload),C)}if(Te(S)||ae(S))return S=Mn(S,j.mode,C,null),S.return=j,S;ss(j,S)}return null}function M(j,S,C,q){var le=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return le!==null?null:w(j,S,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ce:return C.key===le?x(j,S,C,q):null;case ee:return C.key===le?P(j,S,C,q):null;case _e:return le=C._init,M(j,S,le(C._payload),q)}if(Te(C)||ae(C))return le!==null?null:U(j,S,C,q,null);ss(j,C)}return null}function Z(j,S,C,q,le){if(typeof q=="string"&&q!==""||typeof q=="number")return j=j.get(C)||null,w(S,j,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ce:return j=j.get(q.key===null?C:q.key)||null,x(S,j,q,le);case ee:return j=j.get(q.key===null?C:q.key)||null,P(S,j,q,le);case _e:var fe=q._init;return Z(j,S,C,fe(q._payload),le)}if(Te(q)||ae(q))return j=j.get(C)||null,U(S,j,q,le,null);ss(S,q)}return null}function re(j,S,C,q){for(var le=null,fe=null,he=S,pe=S=0,Qe=null;he!==null&&pe<C.length;pe++){he.index>pe?(Qe=he,he=null):Qe=he.sibling;var Pe=M(j,he,C[pe],q);if(Pe===null){he===null&&(he=Qe);break}e&&he&&Pe.alternate===null&&t(j,he),S=c(Pe,S,pe),fe===null?le=Pe:fe.sibling=Pe,fe=Pe,he=Qe}if(pe===C.length)return n(j,he),$e&&On(j,pe),le;if(he===null){for(;pe<C.length;pe++)he=W(j,C[pe],q),he!==null&&(S=c(he,S,pe),fe===null?le=he:fe.sibling=he,fe=he);return $e&&On(j,pe),le}for(he=s(j,he);pe<C.length;pe++)Qe=Z(he,j,pe,C[pe],q),Qe!==null&&(e&&Qe.alternate!==null&&he.delete(Qe.key===null?pe:Qe.key),S=c(Qe,S,pe),fe===null?le=Qe:fe.sibling=Qe,fe=Qe);return e&&he.forEach(function(yn){return t(j,yn)}),$e&&On(j,pe),le}function se(j,S,C,q){var le=ae(C);if(typeof le!="function")throw Error(i(150));if(C=le.call(C),C==null)throw Error(i(151));for(var fe=le=null,he=S,pe=S=0,Qe=null,Pe=C.next();he!==null&&!Pe.done;pe++,Pe=C.next()){he.index>pe?(Qe=he,he=null):Qe=he.sibling;var yn=M(j,he,Pe.value,q);if(yn===null){he===null&&(he=Qe);break}e&&he&&yn.alternate===null&&t(j,he),S=c(yn,S,pe),fe===null?le=yn:fe.sibling=yn,fe=yn,he=Qe}if(Pe.done)return n(j,he),$e&&On(j,pe),le;if(he===null){for(;!Pe.done;pe++,Pe=C.next())Pe=W(j,Pe.value,q),Pe!==null&&(S=c(Pe,S,pe),fe===null?le=Pe:fe.sibling=Pe,fe=Pe);return $e&&On(j,pe),le}for(he=s(j,he);!Pe.done;pe++,Pe=C.next())Pe=Z(he,j,pe,Pe.value,q),Pe!==null&&(e&&Pe.alternate!==null&&he.delete(Pe.key===null?pe:Pe.key),S=c(Pe,S,pe),fe===null?le=Pe:fe.sibling=Pe,fe=Pe);return e&&he.forEach(function(gp){return t(j,gp)}),$e&&On(j,pe),le}function Fe(j,S,C,q){if(typeof C=="object"&&C!==null&&C.type===Q&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ce:e:{for(var le=C.key,fe=S;fe!==null;){if(fe.key===le){if(le=C.type,le===Q){if(fe.tag===7){n(j,fe.sibling),S=l(fe,C.props.children),S.return=j,j=S;break e}}else if(fe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===_e&&zu(le)===fe.type){n(j,fe.sibling),S=l(fe,C.props),S.ref=si(j,fe,C),S.return=j,j=S;break e}n(j,fe);break}else t(j,fe);fe=fe.sibling}C.type===Q?(S=Mn(C.props.children,j.mode,q,C.key),S.return=j,j=S):(q=Rs(C.type,C.key,C.props,null,j.mode,q),q.ref=si(j,S,C),q.return=j,j=q)}return h(j);case ee:e:{for(fe=C.key;S!==null;){if(S.key===fe)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(j,S.sibling),S=l(S,C.children||[]),S.return=j,j=S;break e}else{n(j,S);break}else t(j,S);S=S.sibling}S=Al(C,j.mode,q),S.return=j,j=S}return h(j);case _e:return fe=C._init,Fe(j,S,fe(C._payload),q)}if(Te(C))return re(j,S,C,q);if(ae(C))return se(j,S,C,q);ss(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(j,S.sibling),S=l(S,C),S.return=j,j=S):(n(j,S),S=Ol(C,j.mode,q),S.return=j,j=S),h(j)):n(j,S)}return Fe}var cr=Nu(!0),$u=Nu(!1),os=on(null),ls=null,dr=null,Wo=null;function Fo(){Wo=dr=ls=null}function Bo(e){var t=os.current;Ne(os),e._currentValue=t}function qo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){ls=e,Wo=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(dt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Wo!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(ls===null)throw Error(i(308));dr=e,ls.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var An=null;function Ho(e){An===null?An=[e]:An.push(e)}function Du(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Ho(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ht(e,s)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ht(e,n)}return l=s.interleaved,l===null?(t.next=t,Ho(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ht(e,n)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,so(e,n)}}function Uu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function us(e,t,n,s){var l=e.updateQueue;un=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var x=w,P=x.next;x.next=null,h===null?c=P:h.next=P,h=x;var U=e.alternate;U!==null&&(U=U.updateQueue,w=U.lastBaseUpdate,w!==h&&(w===null?U.firstBaseUpdate=P:w.next=P,U.lastBaseUpdate=x))}if(c!==null){var W=l.baseState;h=0,U=P=x=null,w=c;do{var M=w.lane,Z=w.eventTime;if((s&M)===M){U!==null&&(U=U.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=e,se=w;switch(M=t,Z=n,se.tag){case 1:if(re=se.payload,typeof re=="function"){W=re.call(Z,W,M);break e}W=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,M=typeof re=="function"?re.call(Z,W,M):re,M==null)break e;W=Y({},W,M);break e;case 2:un=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[w]:M.push(w))}else Z={eventTime:Z,lane:M,tag:w.tag,payload:w.payload,callback:w.callback,next:null},U===null?(P=U=Z,x=W):U=U.next=Z,h|=M;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;M=w,w=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(!0);if(U===null&&(x=W),l.baseState=x,l.firstBaseUpdate=P,l.lastBaseUpdate=U,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);zn|=h,e.lanes=h,e.memoizedState=W}}function Wu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(i(191,l));l.call(s)}}}var oi={},Dt=on(oi),li=on(oi),ai=on(oi);function Ln(e){if(e===oi)throw Error(i(174));return e}function Ko(e,t){switch(Le(ai,t),Le(li,e),Le(Dt,oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qn(t,e)}Ne(Dt),Le(Dt,t)}function hr(){Ne(Dt),Ne(li),Ne(ai)}function Fu(e){Ln(ai.current);var t=Ln(Dt.current),n=Qn(t,e.type);t!==n&&(Le(li,e),Le(Dt,n))}function Qo(e){li.current===e&&(Ne(Dt),Ne(li))}var De=on(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Go(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var ds=K.ReactCurrentDispatcher,Yo=K.ReactCurrentBatchConfig,In=0,Me=null,qe=null,Ve=null,fs=!1,ui=!1,ci=0,$h=0;function tt(){throw Error(i(321))}function Xo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Zo(e,t,n,s,l,c){if(In=c,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=e===null||e.memoizedState===null?Wh:Fh,e=n(s,l),ui){c=0;do{if(ui=!1,ci=0,25<=c)throw Error(i(301));c+=1,Ve=qe=null,t.updateQueue=null,ds.current=Bh,e=n(s,l)}while(ui)}if(ds.current=gs,t=qe!==null&&qe.next!==null,In=0,Ve=qe=Me=null,fs=!1,t)throw Error(i(300));return e}function el(){var e=ci!==0;return ci=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Me.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function bt(){if(qe===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Ve===null?Me.memoizedState:Ve.next;if(t!==null)Ve=t,qe=e;else{if(e===null)throw Error(i(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ve===null?Me.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function di(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=bt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=qe,l=s.baseQueue,c=n.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}s.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,s=s.baseState;var w=h=null,x=null,P=c;do{var U=P.lane;if((In&U)===U)x!==null&&(x=x.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var W={lane:U,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};x===null?(w=x=W,h=s):x=x.next=W,Me.lanes|=U,zn|=U}P=P.next}while(P!==null&&P!==c);x===null?h=s:x.next=w,Pt(s,t.memoizedState)||(dt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=x,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Me.lanes|=c,zn|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nl(e){var t=bt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);Pt(c,t.memoizedState)||(dt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Bu(){}function qu(e,t){var n=Me,s=bt(),l=t(),c=!Pt(s.memoizedState,l);if(c&&(s.memoizedState=l,dt=!0),s=s.queue,rl(Ku.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,fi(9,Vu.bind(null,n,s,l,t),void 0,null),Ke===null)throw Error(i(349));(In&30)!==0||Hu(n,t,l)}return l}function Hu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vu(e,t,n,s){t.value=n,t.getSnapshot=s,Qu(t)&&Ju(e)}function Ku(e,t,n){return n(function(){Qu(t)&&Ju(e)})}function Qu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Ju(e){var t=Ht(e,1);t!==null&&Lt(t,e,1,-1)}function Gu(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t.queue=e,e=e.dispatch=Uh.bind(null,Me,e),[t.memoizedState,e]}function fi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Yu(){return bt().memoizedState}function hs(e,t,n,s){var l=Mt();Me.flags|=e,l.memoizedState=fi(1|t,n,void 0,s===void 0?null:s)}function ps(e,t,n,s){var l=bt();s=s===void 0?null:s;var c=void 0;if(qe!==null){var h=qe.memoizedState;if(c=h.destroy,s!==null&&Xo(s,h.deps)){l.memoizedState=fi(t,n,c,s);return}}Me.flags|=e,l.memoizedState=fi(1|t,n,c,s)}function Xu(e,t){return hs(8390656,8,e,t)}function rl(e,t){return ps(2048,8,e,t)}function Zu(e,t){return ps(4,2,e,t)}function ec(e,t){return ps(4,4,e,t)}function tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nc(e,t,n){return n=n!=null?n.concat([e]):null,ps(4,4,tc.bind(null,t,e),n)}function il(){}function rc(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ic(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xo(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function sc(e,t,n){return(In&21)===0?(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=n):(Pt(n,t)||(n=za(),Me.lanes|=n,zn|=n,e.baseState=!0),t)}function Dh(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var s=Yo.transition;Yo.transition={};try{e(!1),t()}finally{Oe=n,Yo.transition=s}}function oc(){return bt().memoizedState}function Mh(e,t,n){var s=pn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},lc(e))ac(t,n);else if(n=Du(e,t,n,s),n!==null){var l=lt();Lt(n,e,s,l),uc(n,t,s)}}function Uh(e,t,n){var s=pn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(lc(e))ac(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,w=c(h,n);if(l.hasEagerState=!0,l.eagerState=w,Pt(w,h)){var x=t.interleaved;x===null?(l.next=l,Ho(t)):(l.next=x.next,x.next=l),t.interleaved=l;return}}catch{}finally{}n=Du(e,t,l,s),n!==null&&(l=lt(),Lt(n,e,s,l),uc(n,t,s))}}function lc(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function ac(e,t){ui=fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,so(e,n)}}var gs={readContext:kt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Wh={readContext:kt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Xu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hs(4194308,4,tc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return hs(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Mt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Mh.bind(null,Me,e),[s.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Gu,useDebugValue:il,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Gu(!1),t=e[0];return e=Dh.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Me,l=Mt();if($e){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ke===null)throw Error(i(349));(In&30)!==0||Hu(s,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Xu(Ku.bind(null,s,c,e),[e]),s.flags|=2048,fi(9,Vu.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Ke.identifierPrefix;if($e){var n=qt,s=Bt;n=(s&~(1<<32-Ct(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ci++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$h++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fh={readContext:kt,useCallback:rc,useContext:kt,useEffect:rl,useImperativeHandle:nc,useInsertionEffect:Zu,useLayoutEffect:ec,useMemo:ic,useReducer:tl,useRef:Yu,useState:function(){return tl(di)},useDebugValue:il,useDeferredValue:function(e){var t=bt();return sc(t,qe.memoizedState,e)},useTransition:function(){var e=tl(di)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Bu,useSyncExternalStore:qu,useId:oc,unstable_isNewReconciler:!1},Bh={readContext:kt,useCallback:rc,useContext:kt,useEffect:rl,useImperativeHandle:nc,useInsertionEffect:Zu,useLayoutEffect:ec,useMemo:ic,useReducer:nl,useRef:Yu,useState:function(){return nl(di)},useDebugValue:il,useDeferredValue:function(e){var t=bt();return qe===null?t.memoizedState=e:sc(t,qe.memoizedState,e)},useTransition:function(){var e=nl(di)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Bu,useSyncExternalStore:qu,useId:oc,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ms={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=lt(),l=pn(e),c=Vt(s,l);c.payload=t,n!=null&&(c.callback=n),t=cn(e,c,l),t!==null&&(Lt(t,e,l,s),as(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=lt(),l=pn(e),c=Vt(s,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=cn(e,c,l),t!==null&&(Lt(t,e,l,s),as(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),s=pn(e),l=Vt(n,s);l.tag=2,t!=null&&(l.callback=t),t=cn(e,l,s),t!==null&&(Lt(t,e,s,n),as(t,e,s))}};function cc(e,t,n,s,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!Xr(n,s)||!Xr(l,c):!0}function dc(e,t,n){var s=!1,l=ln,c=t.contextType;return typeof c=="object"&&c!==null?c=kt(c):(l=ct(t)?Rn:et.current,s=t.contextTypes,c=(s=s!=null)?or(e,l):ln),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function fc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function ol(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Vo(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=kt(c):(c=ct(t)?Rn:et.current,l.context=or(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(sl(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ms.enqueueReplaceState(l,l.state,null),us(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",s=t;do n+=ke(s),s=s.return;while(s);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function ll(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qh=typeof WeakMap=="function"?WeakMap:Map;function hc(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ks||(ks=!0,kl=s),al(e,t)},n}function pc(e,t,n){n=Vt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){al(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){al(e,t),typeof s!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function gc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new qh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=ip.bind(null,e,t,n),t.then(e,e))}function mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yc(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Hh=K.ReactCurrentOwner,dt=!1;function ot(e,t,n,s){t.child=e===null?$u(t,null,n,s):cr(t,e.child,n,s)}function vc(e,t,n,s,l){n=n.render;var c=t.ref;return fr(t,l),s=Zo(e,t,n,s,c,l),n=el(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Kt(e,t,l)):($e&&n&&No(t),t.flags|=1,ot(e,t,s,l),t.child)}function wc(e,t,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!Tl(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,_c(e,t,c,s,l)):(e=Rs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(h,s)&&e.ref===t.ref)return Kt(e,t,l)}return t.flags|=1,e=mn(c,s),e.ref=t.ref,e.return=t,t.child=e}function _c(e,t,n,s,l){if(e!==null){var c=e.memoizedProps;if(Xr(c,s)&&e.ref===t.ref)if(dt=!1,t.pendingProps=s=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,Kt(e,t,l)}return ul(e,t,n,s,l)}function xc(e,t,n){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(mr,wt),wt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(mr,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,Le(mr,wt),wt|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,Le(mr,wt),wt|=s;return ot(e,t,l,n),t.child}function Sc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ul(e,t,n,s,l){var c=ct(n)?Rn:et.current;return c=or(t,c),fr(t,l),n=Zo(e,t,n,s,c,l),s=el(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Kt(e,t,l)):($e&&s&&No(t),t.flags|=1,ot(e,t,n,l),t.child)}function kc(e,t,n,s,l){if(ct(n)){var c=!0;es(t)}else c=!1;if(fr(t,l),t.stateNode===null)vs(e,t),dc(t,n,s),ol(t,n,s,l),s=!0;else if(e===null){var h=t.stateNode,w=t.memoizedProps;h.props=w;var x=h.context,P=n.contextType;typeof P=="object"&&P!==null?P=kt(P):(P=ct(n)?Rn:et.current,P=or(t,P));var U=n.getDerivedStateFromProps,W=typeof U=="function"||typeof h.getSnapshotBeforeUpdate=="function";W||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==s||x!==P)&&fc(t,h,s,P),un=!1;var M=t.memoizedState;h.state=M,us(t,s,h,l),x=t.memoizedState,w!==s||M!==x||ut.current||un?(typeof U=="function"&&(sl(t,n,U,s),x=t.memoizedState),(w=un||cc(t,n,w,s,M,x,P))?(W||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=x),h.props=s,h.state=x,h.context=P,s=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Mu(e,t),w=t.memoizedProps,P=t.type===t.elementType?w:Tt(t.type,w),h.props=P,W=t.pendingProps,M=h.context,x=n.contextType,typeof x=="object"&&x!==null?x=kt(x):(x=ct(n)?Rn:et.current,x=or(t,x));var Z=n.getDerivedStateFromProps;(U=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==W||M!==x)&&fc(t,h,s,x),un=!1,M=t.memoizedState,h.state=M,us(t,s,h,l);var re=t.memoizedState;w!==W||M!==re||ut.current||un?(typeof Z=="function"&&(sl(t,n,Z,s),re=t.memoizedState),(P=un||cc(t,n,P,s,M,re,x)||!1)?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,re,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,re,x)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=re),h.props=s,h.state=re,h.context=x,s=P):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return cl(e,t,n,s,c,l)}function cl(e,t,n,s,l,c){Sc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&Pu(t,n,!1),Kt(e,t,c);s=t.stateNode,Hh.current=t;var w=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=cr(t,e.child,null,c),t.child=cr(t,null,w,c)):ot(e,t,w,c),t.memoizedState=s.state,l&&Pu(t,n,!0),t.child}function bc(e){var t=e.stateNode;t.pendingContext?ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ju(e,t.context,!1),Ko(e,t.containerInfo)}function Ec(e,t,n,s,l){return ur(),Uo(l),t.flags|=256,ot(e,t,n,s),t.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jc(e,t,n){var s=t.pendingProps,l=De.current,c=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Le(De,l&1),e===null)return Mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,c?(s=t.mode,c=t.child,h={mode:"hidden",children:h},(s&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=Ts(h,s,0,null),e=Mn(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=fl(n),t.memoizedState=dl,e):hl(t,h));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return Vh(e,t,h,s,w,l,n);if(c){c=s.fallback,h=t.mode,l=e.child,w=l.sibling;var x={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=x,t.deletions=null):(s=mn(l,x),s.subtreeFlags=l.subtreeFlags&14680064),w!==null?c=mn(w,c):(c=Mn(c,h,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,h=e.child.memoizedState,h=h===null?fl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=dl,s}return c=e.child,e=c.sibling,s=mn(c,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function hl(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ys(e,t,n,s){return s!==null&&Uo(s),cr(t,e.child,null,n),e=hl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vh(e,t,n,s,l,c,h){if(n)return t.flags&256?(t.flags&=-257,s=ll(Error(i(422))),ys(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,l=t.mode,s=Ts({mode:"visible",children:s.children},l,0,null),c=Mn(c,l,h,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,(t.mode&1)!==0&&cr(t,e.child,null,h),t.child.memoizedState=fl(h),t.memoizedState=dl,c);if((t.mode&1)===0)return ys(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var w=s.dgst;return s=w,c=Error(i(419)),s=ll(c,s,void 0),ys(e,t,h,s)}if(w=(h&e.childLanes)!==0,dt||w){if(s=Ke,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Ht(e,l),Lt(s,e,l,-1))}return Rl(),s=ll(Error(i(421))),ys(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=sp.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,vt=sn(l.nextSibling),yt=t,$e=!0,Rt=null,e!==null&&(xt[St++]=Bt,xt[St++]=qt,xt[St++]=Tn,Bt=e.id,qt=e.overflow,Tn=t),t=hl(t,s.children),t.flags|=4096,t)}function Cc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),qo(e.return,t,n)}function pl(e,t,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function Pc(e,t,n){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(ot(e,t,s.children,n),s=De.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cc(e,n,t);else if(e.tag===19)Cc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Le(De,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&cs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),pl(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&cs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}pl(t,!0,n,null,c);break;case"together":pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kh(e,t,n){switch(t.tag){case 3:bc(t),ur();break;case 5:Fu(t);break;case 1:ct(t.type)&&es(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Le(os,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Le(De,De.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?jc(e,t,n):(Le(De,De.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);Le(De,De.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Pc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Le(De,De.current),s)break;return null;case 22:case 23:return t.lanes=0,xc(e,t,n)}return Kt(e,t,n)}var Rc,gl,Tc,Oc;Rc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gl=function(){},Tc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Ln(Dt.current);var c=null;switch(n){case"input":l=Vn(e,l),s=Vn(e,s),c=[];break;case"select":l=Y({},l,{value:void 0}),s=Y({},s,{value:void 0}),c=[];break;case"textarea":l=Ye(e,l),s=Ye(e,s),c=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Yi)}Qs(n,s);var h;n=null;for(P in l)if(!s.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var w=l[P];for(h in w)w.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?c||(c=[]):(c=c||[]).push(P,null));for(P in s){var x=s[P];if(w=l!=null?l[P]:void 0,s.hasOwnProperty(P)&&x!==w&&(x!=null||w!=null))if(P==="style")if(w){for(h in w)!w.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in x)x.hasOwnProperty(h)&&w[h]!==x[h]&&(n||(n={}),n[h]=x[h])}else n||(c||(c=[]),c.push(P,n)),n=x;else P==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,w=w?w.__html:void 0,x!=null&&w!==x&&(c=c||[]).push(P,x)):P==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(P,""+x):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(a.hasOwnProperty(P)?(x!=null&&P==="onScroll"&&ze("scroll",e),c||w===x||(c=[])):(c=c||[]).push(P,x))}n&&(c=c||[]).push("style",n);var P=c;(t.updateQueue=P)&&(t.flags|=4)}},Oc=function(e,t,n,s){n!==s&&(t.flags|=4)};function hi(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Qh(e,t,n){var s=t.pendingProps;switch($o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return ct(t.type)&&Zi(),nt(t),null;case 3:return s=t.stateNode,hr(),Ne(ut),Ne(et),Go(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(jl(Rt),Rt=null))),gl(e,t),nt(t),null;case 5:Qo(t);var l=Ln(ai.current);if(n=t.type,e!==null&&t.stateNode!=null)Tc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return nt(t),null}if(e=Ln(Dt.current),is(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[$t]=t,s[ri]=c,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(l=0;l<ei.length;l++)ze(ei[l],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":F(s,c),ze("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},ze("invalid",s);break;case"textarea":_t(s,c),ze("invalid",s)}Qs(n,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var w=c[h];h==="children"?typeof w=="string"?s.textContent!==w&&(c.suppressHydrationWarning!==!0&&Gi(s.textContent,w,e),l=["children",w]):typeof w=="number"&&s.textContent!==""+w&&(c.suppressHydrationWarning!==!0&&Gi(s.textContent,w,e),l=["children",""+w]):a.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&ze("scroll",s)}switch(n){case"input":kn(s),oe(s,c,!0);break;case"textarea":kn(s),Ci(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Yi)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pi(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[$t]=t,e[ri]=s,Rc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Js(n,s),n){case"dialog":ze("cancel",e),ze("close",e),l=s;break;case"iframe":case"object":case"embed":ze("load",e),l=s;break;case"video":case"audio":for(l=0;l<ei.length;l++)ze(ei[l],e);l=s;break;case"source":ze("error",e),l=s;break;case"img":case"image":case"link":ze("error",e),ze("load",e),l=s;break;case"details":ze("toggle",e),l=s;break;case"input":F(e,s),l=Vn(e,s),ze("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Y({},s,{value:void 0}),ze("invalid",e);break;case"textarea":_t(e,s),l=Ye(e,s),ze("invalid",e);break;default:l=s}Qs(n,l),w=l;for(c in w)if(w.hasOwnProperty(c)){var x=w[c];c==="style"?_a(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Ri(e,x)):c==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&jn(e,x):typeof x=="number"&&jn(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?x!=null&&c==="onScroll"&&ze("scroll",e):x!=null&&I(e,c,x,h))}switch(n){case"input":kn(e),oe(e,s,!1);break;case"textarea":kn(e),Ci(e);break;case"option":s.value!=null&&e.setAttribute("value",""+je(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?Ce(e,!!s.multiple,c,!1):s.defaultValue!=null&&Ce(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Yi)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Oc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=Ln(ai.current),Ln(Dt.current),is(t)){if(s=t.stateNode,n=t.memoizedProps,s[$t]=t,(c=s.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Gi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[$t]=t,t.stateNode=s}return nt(t),null;case 13:if(Ne(De),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&vt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Iu(),ur(),t.flags|=98560,c=!1;else if(c=is(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[$t]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),c=!1}else Rt!==null&&(jl(Rt),Rt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(De.current&1)!==0?He===0&&(He=3):Rl())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return hr(),gl(e,t),e===null&&ti(t.stateNode.containerInfo),nt(t),null;case 10:return Bo(t.type._context),nt(t),null;case 17:return ct(t.type)&&Zi(),nt(t),null;case 19:if(Ne(De),c=t.memoizedState,c===null)return nt(t),null;if(s=(t.flags&128)!==0,h=c.rendering,h===null)if(s)hi(c,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=cs(e),h!==null){for(t.flags|=128,hi(c,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(De,De.current&1|2),t.child}e=e.sibling}c.tail!==null&&We()>yr&&(t.flags|=128,s=!0,hi(c,!1),t.lanes=4194304)}else{if(!s)if(e=cs(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!$e)return nt(t),null}else 2*We()-c.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,s=!0,hi(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=We(),t.sibling=null,n=De.current,Le(De,s?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return Pl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(wt&1073741824)!==0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Jh(e,t){switch($o(t),t.tag){case 1:return ct(t.type)&&Zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hr(),Ne(ut),Ne(et),Go(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Qo(t),null;case 13:if(Ne(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(De),null;case 4:return hr(),null;case 10:return Bo(t.type._context),null;case 22:case 23:return Pl(),null;case 24:return null;default:return null}}var ws=!1,rt=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,ne=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ue(e,t,s)}else n.current=null}function ml(e,t,n){try{n()}catch(s){Ue(e,t,s)}}var Ac=!1;function Yh(e,t){if(Po=Mi,e=cu(),_o(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,w=-1,x=-1,P=0,U=0,W=e,M=null;t:for(;;){for(var Z;W!==n||l!==0&&W.nodeType!==3||(w=h+l),W!==c||s!==0&&W.nodeType!==3||(x=h+s),W.nodeType===3&&(h+=W.nodeValue.length),(Z=W.firstChild)!==null;)M=W,W=Z;for(;;){if(W===e)break t;if(M===n&&++P===l&&(w=h),M===c&&++U===s&&(x=h),(Z=W.nextSibling)!==null)break;W=M,M=W.parentNode}W=Z}n=w===-1||x===-1?null:{start:w,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ro={focusedElem:e,selectionRange:n},Mi=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,Fe=re.memoizedState,j=t.stateNode,S=j.getSnapshotBeforeUpdate(t.elementType===t.type?se:Tt(t.type,se),Fe);j.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(q){Ue(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return re=Ac,Ac=!1,re}function pi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&ml(t,n,c)}l=l.next}while(l!==s)}}function _s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function yl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lc(e){var t=e.alternate;t!==null&&(e.alternate=null,Lc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[ri],delete t[Lo],delete t[Lh],delete t[Ih])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ic(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yi));else if(s!==4&&(e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}function wl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}var Xe=null,Ot=!1;function dn(e,t,n){for(n=n.child;n!==null;)Nc(e,t,n),n=n.sibling}function Nc(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Li,n)}catch{}switch(n.tag){case 5:rt||gr(n,t);case 6:var s=Xe,l=Ot;Xe=null,dn(e,t,n),Xe=s,Ot=l,Xe!==null&&(Ot?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Ot?(e=Xe,n=n.stateNode,e.nodeType===8?Ao(e.parentNode,n):e.nodeType===1&&Ao(e,n),Vr(e)):Ao(Xe,n.stateNode));break;case 4:s=Xe,l=Ot,Xe=n.stateNode.containerInfo,Ot=!0,dn(e,t,n),Xe=s,Ot=l;break;case 0:case 11:case 14:case 15:if(!rt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&ml(n,t,h),l=l.next}while(l!==s)}dn(e,t,n);break;case 1:if(!rt&&(gr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(w){Ue(n,t,w)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(rt=(s=rt)||n.memoizedState!==null,dn(e,t,n),rt=s):dn(e,t,n);break;default:dn(e,t,n)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gh),t.forEach(function(s){var l=op.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var c=e,h=t,w=h;e:for(;w!==null;){switch(w.tag){case 5:Xe=w.stateNode,Ot=!1;break e;case 3:Xe=w.stateNode.containerInfo,Ot=!0;break e;case 4:Xe=w.stateNode.containerInfo,Ot=!0;break e}w=w.return}if(Xe===null)throw Error(i(160));Nc(c,h,l),Xe=null,Ot=!1;var x=l.alternate;x!==null&&(x.return=null),l.return=null}catch(P){Ue(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dc(t,e),t=t.sibling}function Dc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Ut(e),s&4){try{pi(3,e,e.return),_s(3,e)}catch(se){Ue(e,e.return,se)}try{pi(5,e,e.return)}catch(se){Ue(e,e.return,se)}}break;case 1:At(t,e),Ut(e),s&512&&n!==null&&gr(n,n.return);break;case 5:if(At(t,e),Ut(e),s&512&&n!==null&&gr(n,n.return),e.flags&32){var l=e.stateNode;try{jn(l,"")}catch(se){Ue(e,e.return,se)}}if(s&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,w=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{w==="input"&&c.type==="radio"&&c.name!=null&&te(l,c),Js(w,h);var P=Js(w,c);for(h=0;h<x.length;h+=2){var U=x[h],W=x[h+1];U==="style"?_a(l,W):U==="dangerouslySetInnerHTML"?Ri(l,W):U==="children"?jn(l,W):I(l,U,W,P)}switch(w){case"input":X(l,c);break;case"textarea":Kn(l,c);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var Z=c.value;Z!=null?Ce(l,!!c.multiple,Z,!1):M!==!!c.multiple&&(c.defaultValue!=null?Ce(l,!!c.multiple,c.defaultValue,!0):Ce(l,!!c.multiple,c.multiple?[]:"",!1))}l[ri]=c}catch(se){Ue(e,e.return,se)}}break;case 6:if(At(t,e),Ut(e),s&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(se){Ue(e,e.return,se)}}break;case 3:if(At(t,e),Ut(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(se){Ue(e,e.return,se)}break;case 4:At(t,e),Ut(e);break;case 13:At(t,e),Ut(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(Sl=We())),s&4&&$c(e);break;case 22:if(U=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(P=rt)||U,At(t,e),rt=P):At(t,e),Ut(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!U&&(e.mode&1)!==0)for(ne=e,U=e.child;U!==null;){for(W=ne=U;ne!==null;){switch(M=ne,Z=M.child,M.tag){case 0:case 11:case 14:case 15:pi(4,M,M.return);break;case 1:gr(M,M.return);var re=M.stateNode;if(typeof re.componentWillUnmount=="function"){s=M,n=M.return;try{t=s,re.props=t.memoizedProps,re.state=t.memoizedState,re.componentWillUnmount()}catch(se){Ue(s,n,se)}}break;case 5:gr(M,M.return);break;case 22:if(M.memoizedState!==null){Wc(W);continue}}Z!==null?(Z.return=M,ne=Z):Wc(W)}U=U.sibling}e:for(U=null,W=e;;){if(W.tag===5){if(U===null){U=W;try{l=W.stateNode,P?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(w=W.stateNode,x=W.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,w.style.display=wa("display",h))}catch(se){Ue(e,e.return,se)}}}else if(W.tag===6){if(U===null)try{W.stateNode.nodeValue=P?"":W.memoizedProps}catch(se){Ue(e,e.return,se)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;U===W&&(U=null),W=W.return}U===W&&(U=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:At(t,e),Ut(e),s&4&&$c(e);break;case 21:break;default:At(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ic(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(jn(l,""),s.flags&=-33);var c=zc(e);wl(e,c,l);break;case 3:case 4:var h=s.stateNode.containerInfo,w=zc(e);vl(e,w,h);break;default:throw Error(i(161))}}catch(x){Ue(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e,t,n){ne=e,Mc(e)}function Mc(e,t,n){for(var s=(e.mode&1)!==0;ne!==null;){var l=ne,c=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||ws;if(!h){var w=l.alternate,x=w!==null&&w.memoizedState!==null||rt;w=ws;var P=rt;if(ws=h,(rt=x)&&!P)for(ne=l;ne!==null;)h=ne,x=h.child,h.tag===22&&h.memoizedState!==null?Fc(l):x!==null?(x.return=h,ne=x):Fc(l);for(;c!==null;)ne=c,Mc(c),c=c.sibling;ne=l,ws=w,rt=P}Uc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,ne=c):Uc(e)}}function Uc(e){for(;ne!==null;){var t=ne;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||_s(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!rt)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Wu(t,c,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wu(t,h,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var U=P.memoizedState;if(U!==null){var W=U.dehydrated;W!==null&&Vr(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}rt||t.flags&512&&yl(t)}catch(M){Ue(t,t.return,M)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Wc(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Fc(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_s(4,t)}catch(x){Ue(t,n,x)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(x){Ue(t,l,x)}}var c=t.return;try{yl(t)}catch(x){Ue(t,c,x)}break;case 5:var h=t.return;try{yl(t)}catch(x){Ue(t,h,x)}}}catch(x){Ue(t,t.return,x)}if(t===e){ne=null;break}var w=t.sibling;if(w!==null){w.return=t.return,ne=w;break}ne=t.return}}var Zh=Math.ceil,xs=K.ReactCurrentDispatcher,_l=K.ReactCurrentOwner,Et=K.ReactCurrentBatchConfig,Ee=0,Ke=null,Be=null,Ze=0,wt=0,mr=on(0),He=0,gi=null,zn=0,Ss=0,xl=0,mi=null,ft=null,Sl=0,yr=1/0,Qt=null,ks=!1,kl=null,fn=null,bs=!1,hn=null,Es=0,yi=0,bl=null,js=-1,Cs=0;function lt(){return(Ee&6)!==0?We():js!==-1?js:js=We()}function pn(e){return(e.mode&1)===0?1:(Ee&2)!==0&&Ze!==0?Ze&-Ze:Nh.transition!==null?(Cs===0&&(Cs=za()),Cs):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:qa(e.type)),e)}function Lt(e,t,n,s){if(50<yi)throw yi=0,bl=null,Error(i(185));Wr(e,n,s),((Ee&2)===0||e!==Ke)&&(e===Ke&&((Ee&2)===0&&(Ss|=n),He===4&&gn(e,Ze)),ht(e,s),n===1&&Ee===0&&(t.mode&1)===0&&(yr=We()+500,ts&&an()))}function ht(e,t){var n=e.callbackNode;Nf(e,t);var s=Ni(e,e===Ke?Ze:0);if(s===0)n!==null&&Aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Aa(n),t===1)e.tag===0?zh(qc.bind(null,e)):Ru(qc.bind(null,e)),Oh(function(){(Ee&6)===0&&an()}),n=null;else{switch(Na(s)){case 1:n=no;break;case 4:n=La;break;case 16:n=Ai;break;case 536870912:n=Ia;break;default:n=Ai}n=Xc(n,Bc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bc(e,t){if(js=-1,Cs=0,(Ee&6)!==0)throw Error(i(327));var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var s=Ni(e,e===Ke?Ze:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Ps(e,s);else{t=s;var l=Ee;Ee|=2;var c=Vc();(Ke!==e||Ze!==t)&&(Qt=null,yr=We()+500,$n(e,t));do try{np();break}catch(w){Hc(e,w)}while(!0);Fo(),xs.current=c,Ee=l,Be!==null?t=0:(Ke=null,Ze=0,t=He)}if(t!==0){if(t===2&&(l=ro(e),l!==0&&(s=l,t=El(e,l))),t===1)throw n=gi,$n(e,0),gn(e,s),ht(e,We()),n;if(t===6)gn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!ep(l)&&(t=Ps(e,s),t===2&&(c=ro(e),c!==0&&(s=c,t=El(e,c))),t===1))throw n=gi,$n(e,0),gn(e,s),ht(e,We()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Dn(e,ft,Qt);break;case 3:if(gn(e,s),(s&130023424)===s&&(t=Sl+500-We(),10<t)){if(Ni(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){lt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Oo(Dn.bind(null,e,ft,Qt),t);break}Dn(e,ft,Qt);break;case 4:if(gn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-Ct(s);c=1<<h,h=t[h],h>l&&(l=h),s&=~c}if(s=l,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Zh(s/1960))-s,10<s){e.timeoutHandle=Oo(Dn.bind(null,e,ft,Qt),s);break}Dn(e,ft,Qt);break;case 5:Dn(e,ft,Qt);break;default:throw Error(i(329))}}}return ht(e,We()),e.callbackNode===n?Bc.bind(null,e):null}function El(e,t){var n=mi;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=Ps(e,t),e!==2&&(t=ft,ft=n,t!==null&&jl(t)),e}function jl(e){ft===null?ft=e:ft.push.apply(ft,e)}function ep(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!Pt(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~xl,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),s=1<<n;e[n]=-1,t&=~s}}function qc(e){if((Ee&6)!==0)throw Error(i(327));vr();var t=Ni(e,0);if((t&1)===0)return ht(e,We()),null;var n=Ps(e,t);if(e.tag!==0&&n===2){var s=ro(e);s!==0&&(t=s,n=El(e,s))}if(n===1)throw n=gi,$n(e,0),gn(e,t),ht(e,We()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,ft,Qt),ht(e,We()),null}function Cl(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(yr=We()+500,ts&&an())}}function Nn(e){hn!==null&&hn.tag===0&&(Ee&6)===0&&vr();var t=Ee;Ee|=1;var n=Et.transition,s=Oe;try{if(Et.transition=null,Oe=1,e)return e()}finally{Oe=s,Et.transition=n,Ee=t,(Ee&6)===0&&an()}}function Pl(){wt=mr.current,Ne(mr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Th(n)),Be!==null)for(n=Be.return;n!==null;){var s=n;switch($o(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zi();break;case 3:hr(),Ne(ut),Ne(et),Go();break;case 5:Qo(s);break;case 4:hr();break;case 13:Ne(De);break;case 19:Ne(De);break;case 10:Bo(s.type._context);break;case 22:case 23:Pl()}n=n.return}if(Ke=e,Be=e=mn(e.current,null),Ze=wt=t,He=0,gi=null,xl=Ss=zn=0,ft=mi=null,An!==null){for(t=0;t<An.length;t++)if(n=An[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,c=n.pending;if(c!==null){var h=c.next;c.next=l,s.next=h}n.pending=s}An=null}return e}function Hc(e,t){do{var n=Be;try{if(Fo(),ds.current=gs,fs){for(var s=Me.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}fs=!1}if(In=0,Ve=qe=Me=null,ui=!1,ci=0,_l.current=null,n===null||n.return===null){He=1,gi=t,Be=null;break}e:{var c=e,h=n.return,w=n,x=t;if(t=Ze,w.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var P=x,U=w,W=U.tag;if((U.mode&1)===0&&(W===0||W===11||W===15)){var M=U.alternate;M?(U.updateQueue=M.updateQueue,U.memoizedState=M.memoizedState,U.lanes=M.lanes):(U.updateQueue=null,U.memoizedState=null)}var Z=mc(h);if(Z!==null){Z.flags&=-257,yc(Z,h,w,c,t),Z.mode&1&&gc(c,P,t),t=Z,x=P;var re=t.updateQueue;if(re===null){var se=new Set;se.add(x),t.updateQueue=se}else re.add(x);break e}else{if((t&1)===0){gc(c,P,t),Rl();break e}x=Error(i(426))}}else if($e&&w.mode&1){var Fe=mc(h);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),yc(Fe,h,w,c,t),Uo(pr(x,w));break e}}c=x=pr(x,w),He!==4&&(He=2),mi===null?mi=[c]:mi.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var j=hc(c,x,t);Uu(c,j);break e;case 1:w=x;var S=c.type,C=c.stateNode;if((c.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(fn===null||!fn.has(C)))){c.flags|=65536,t&=-t,c.lanes|=t;var q=pc(c,w,t);Uu(c,q);break e}}c=c.return}while(c!==null)}Qc(n)}catch(le){t=le,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Vc(){var e=xs.current;return xs.current=gs,e===null?gs:e}function Rl(){(He===0||He===3||He===2)&&(He=4),Ke===null||(zn&268435455)===0&&(Ss&268435455)===0||gn(Ke,Ze)}function Ps(e,t){var n=Ee;Ee|=2;var s=Vc();(Ke!==e||Ze!==t)&&(Qt=null,$n(e,t));do try{tp();break}catch(l){Hc(e,l)}while(!0);if(Fo(),Ee=n,xs.current=s,Be!==null)throw Error(i(261));return Ke=null,Ze=0,He}function tp(){for(;Be!==null;)Kc(Be)}function np(){for(;Be!==null&&!Cf();)Kc(Be)}function Kc(e){var t=Yc(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Qc(e):Be=t,_l.current=null}function Qc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Qh(n,t,wt),n!==null){Be=n;return}}else{if(n=Jh(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);He===0&&(He=5)}function Dn(e,t,n){var s=Oe,l=Et.transition;try{Et.transition=null,Oe=1,rp(e,t,n,s)}finally{Et.transition=l,Oe=s}return null}function rp(e,t,n,s){do vr();while(hn!==null);if((Ee&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if($f(e,c),e===Ke&&(Be=Ke=null,Ze=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||bs||(bs=!0,Xc(Ai,function(){return vr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=Et.transition,Et.transition=null;var h=Oe;Oe=1;var w=Ee;Ee|=4,_l.current=null,Yh(e,n),Dc(n,e),kh(Ro),Mi=!!Po,Ro=Po=null,e.current=n,Xh(n),Pf(),Ee=w,Oe=h,Et.transition=c}else e.current=n;if(bs&&(bs=!1,hn=e,Es=l),c=e.pendingLanes,c===0&&(fn=null),Of(n.stateNode),ht(e,We()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(ks)throw ks=!1,e=kl,kl=null,e;return(Es&1)!==0&&e.tag!==0&&vr(),c=e.pendingLanes,(c&1)!==0?e===bl?yi++:(yi=0,bl=e):yi=0,an(),null}function vr(){if(hn!==null){var e=Na(Es),t=Et.transition,n=Oe;try{if(Et.transition=null,Oe=16>e?16:e,hn===null)var s=!1;else{if(e=hn,hn=null,Es=0,(Ee&6)!==0)throw Error(i(331));var l=Ee;for(Ee|=4,ne=e.current;ne!==null;){var c=ne,h=c.child;if((ne.flags&16)!==0){var w=c.deletions;if(w!==null){for(var x=0;x<w.length;x++){var P=w[x];for(ne=P;ne!==null;){var U=ne;switch(U.tag){case 0:case 11:case 15:pi(8,U,c)}var W=U.child;if(W!==null)W.return=U,ne=W;else for(;ne!==null;){U=ne;var M=U.sibling,Z=U.return;if(Lc(U),U===P){ne=null;break}if(M!==null){M.return=Z,ne=M;break}ne=Z}}}var re=c.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var Fe=se.sibling;se.sibling=null,se=Fe}while(se!==null)}}ne=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,ne=h;else e:for(;ne!==null;){if(c=ne,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:pi(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,ne=j;break e}ne=c.return}}var S=e.current;for(ne=S;ne!==null;){h=ne;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,ne=C;else e:for(h=S;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:_s(9,w)}}catch(le){Ue(w,w.return,le)}if(w===h){ne=null;break e}var q=w.sibling;if(q!==null){q.return=w.return,ne=q;break e}ne=w.return}}if(Ee=l,an(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Li,e)}catch{}s=!0}return s}finally{Oe=n,Et.transition=t}}return!1}function Jc(e,t,n){t=pr(n,t),t=hc(e,t,1),e=cn(e,t,1),t=lt(),e!==null&&(Wr(e,1,t),ht(e,t))}function Ue(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(fn===null||!fn.has(s))){e=pr(n,e),e=pc(t,e,1),t=cn(t,e,1),e=lt(),t!==null&&(Wr(t,1,e),ht(t,e));break}}t=t.return}}function ip(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ze&n)===n&&(He===4||He===3&&(Ze&130023424)===Ze&&500>We()-Sl?$n(e,0):xl|=n),ht(e,t)}function Gc(e,t){t===0&&((e.mode&1)===0?t=1:(t=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var n=lt();e=Ht(e,t),e!==null&&(Wr(e,t,n),ht(e,n))}function sp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gc(e,n)}function op(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Gc(e,n)}var Yc;Yc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return dt=!1,Kh(e,t,n);dt=(e.flags&131072)!==0}else dt=!1,$e&&(t.flags&1048576)!==0&&Tu(t,rs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;vs(e,t),e=t.pendingProps;var l=or(t,et.current);fr(t,n),l=Zo(null,t,s,e,l,n);var c=el();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(s)?(c=!0,es(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Vo(t),l.updater=ms,t.stateNode=l,l._reactInternals=t,ol(t,s,e,n),t=cl(null,t,s,!0,c,n)):(t.tag=0,$e&&c&&No(t),ot(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(vs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=ap(s),e=Tt(s,e),l){case 0:t=ul(null,t,s,e,n);break e;case 1:t=kc(null,t,s,e,n);break e;case 11:t=vc(null,t,s,e,n);break e;case 14:t=wc(null,t,s,Tt(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Tt(s,l),ul(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Tt(s,l),kc(e,t,s,l,n);case 3:e:{if(bc(t),e===null)throw Error(i(387));s=t.pendingProps,c=t.memoizedState,l=c.element,Mu(e,t),us(t,s,null,n);var h=t.memoizedState;if(s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=pr(Error(i(423)),t),t=Ec(e,t,s,n,l);break e}else if(s!==l){l=pr(Error(i(424)),t),t=Ec(e,t,s,n,l);break e}else for(vt=sn(t.stateNode.containerInfo.firstChild),yt=t,$e=!0,Rt=null,n=$u(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),s===l){t=Kt(e,t,n);break e}ot(e,t,s,n)}t=t.child}return t;case 5:return Fu(t),e===null&&Mo(t),s=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,To(s,l)?h=null:c!==null&&To(s,c)&&(t.flags|=32),Sc(e,t),ot(e,t,h,n),t.child;case 6:return e===null&&Mo(t),null;case 13:return jc(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cr(t,null,s,n):ot(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Tt(s,l),vc(e,t,s,l,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,Le(os,s._currentValue),s._currentValue=h,c!==null)if(Pt(c.value,h)){if(c.children===l.children&&!ut.current){t=Kt(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var w=c.dependencies;if(w!==null){h=c.child;for(var x=w.firstContext;x!==null;){if(x.context===s){if(c.tag===1){x=Vt(-1,n&-n),x.tag=2;var P=c.updateQueue;if(P!==null){P=P.shared;var U=P.pending;U===null?x.next=x:(x.next=U.next,U.next=x),P.pending=x}}c.lanes|=n,x=c.alternate,x!==null&&(x.lanes|=n),qo(c.return,n,t),w.lanes|=n;break}x=x.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(i(341));h.lanes|=n,w=h.alternate,w!==null&&(w.lanes|=n),qo(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}ot(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,fr(t,n),l=kt(l),s=s(l),t.flags|=1,ot(e,t,s,n),t.child;case 14:return s=t.type,l=Tt(s,t.pendingProps),l=Tt(s.type,l),wc(e,t,s,l,n);case 15:return _c(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Tt(s,l),vs(e,t),t.tag=1,ct(s)?(e=!0,es(t)):e=!1,fr(t,n),dc(t,s,l),ol(t,s,l,n),cl(null,t,s,!0,e,n);case 19:return Pc(e,t,n);case 22:return xc(e,t,n)}throw Error(i(156,t.tag))};function Xc(e,t){return Oa(e,t)}function lp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,s){return new lp(e,t,n,s)}function Tl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ap(e){if(typeof e=="function")return Tl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O)return 11;if(e===ie)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,s,l,c){var h=2;if(s=e,typeof e=="function")Tl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Q:return Mn(n.children,l,c,t);case ue:h=8,l|=8;break;case B:return e=jt(12,n,t,l|2),e.elementType=B,e.lanes=c,e;case z:return e=jt(13,n,t,l),e.elementType=z,e.lanes=c,e;case D:return e=jt(19,n,t,l),e.elementType=D,e.lanes=c,e;case me:return Ts(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:h=10;break e;case A:h=9;break e;case O:h=11;break e;case ie:h=14;break e;case _e:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=jt(h,n,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function Mn(e,t,n,s){return e=jt(7,e,s,t),e.lanes=n,e}function Ts(e,t,n,s){return e=jt(22,e,s,t),e.elementType=me,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function up(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=io(0),this.expirationTimes=io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=io(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ll(e,t,n,s,l,c,h,w,x){return e=new up(e,t,n,w,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=jt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vo(c),e}function cp(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return ln;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(ct(n))return Cu(e,n,t)}return t}function ed(e,t,n,s,l,c,h,w,x){return e=Ll(n,s,!0,e,l,c,h,w,x),e.context=Zc(null),n=e.current,s=lt(),l=pn(n),c=Vt(s,l),c.callback=t??null,cn(n,c,l),e.current.lanes=l,Wr(e,l,s),ht(e,s),e}function Os(e,t,n,s){var l=t.current,c=lt(),h=pn(l);return n=Zc(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(c,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=cn(l,t,h),e!==null&&(Lt(e,l,h,c),as(e,l,h)),h}function As(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Il(e,t){td(e,t),(e=e.alternate)&&td(e,t)}function dp(){return null}var nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function zl(e){this._internalRoot=e}Ls.prototype.render=zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Os(e,t,null,null)},Ls.prototype.unmount=zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){Os(null,e,null,null)}),t[Wt]=null}};function Ls(e){this._internalRoot=e}Ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ma();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&Fa(e)}};function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Is(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rd(){}function fp(e,t,n,s,l){if(l){if(typeof s=="function"){var c=s;s=function(){var P=As(h);c.call(P)}}var h=ed(t,s,e,0,null,!1,!1,"",rd);return e._reactRootContainer=h,e[Wt]=h.current,ti(e.nodeType===8?e.parentNode:e),Nn(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var w=s;s=function(){var P=As(x);w.call(P)}}var x=Ll(e,0,!1,null,null,!1,!1,"",rd);return e._reactRootContainer=x,e[Wt]=x.current,ti(e.nodeType===8?e.parentNode:e),Nn(function(){Os(t,x,n,s)}),x}function zs(e,t,n,s,l){var c=n._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var w=l;l=function(){var x=As(h);w.call(x)}}Os(t,h,e,l)}else h=fp(n,t,e,l,s);return As(h)}$a=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ur(t.pendingLanes);n!==0&&(so(t,n|1),ht(t,We()),(Ee&6)===0&&(yr=We()+500,an()))}break;case 13:Nn(function(){var s=Ht(e,1);if(s!==null){var l=lt();Lt(s,e,1,l)}}),Il(e,1)}},oo=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=lt();Lt(t,e,134217728,n)}Il(e,134217728)}},Da=function(e){if(e.tag===13){var t=pn(e),n=Ht(e,t);if(n!==null){var s=lt();Lt(n,e,t,s)}Il(e,t)}},Ma=function(){return Oe},Ua=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}},Xs=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Xi(s);if(!l)throw Error(i(90));Hn(s),X(s,l)}}}break;case"textarea":Kn(e,n);break;case"select":t=n.value,t!=null&&Ce(e,!!n.multiple,t,!1)}},ba=Cl,Ea=Nn;var hp={usingClientEntryPoint:!1,Events:[ii,ir,Xi,Sa,ka,Cl]},vi={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pp={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ra(e),e===null?null:e.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{Li=Ns.inject(pp),Nt=Ns}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp,pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nl(t))throw Error(i(200));return cp(e,t,null,n)},pt.createRoot=function(e,t){if(!Nl(e))throw Error(i(299));var n=!1,s="",l=nd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ll(e,1,!1,null,null,n,!1,s,l),e[Wt]=t.current,ti(e.nodeType===8?e.parentNode:e),new zl(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ra(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Nn(e)},pt.hydrate=function(e,t,n){if(!Is(t))throw Error(i(200));return zs(null,e,t,!0,n)},pt.hydrateRoot=function(e,t,n){if(!Nl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,l=!1,c="",h=nd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=ed(t,null,e,1,n??null,l,!1,c,h),e[Wt]=t.current,ti(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ls(t)},pt.render=function(e,t,n){if(!Is(t))throw Error(i(200));return zs(null,e,t,!1,n)},pt.unmountComponentAtNode=function(e){if(!Is(e))throw Error(i(40));return e._reactRootContainer?(Nn(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},pt.unstable_batchedUpdates=Cl,pt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Is(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return zs(e,t,n,!1,s)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var dd;function kp(){if(dd)return Ml.exports;dd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Ml.exports=Sp(),Ml.exports}var fd;function bp(){if(fd)return $s;fd=1;var u=kp();return $s.createRoot=u.createRoot,$s.hydrateRoot=u.hydrateRoot,$s}var Ep=bp();const jp=da(Ep),Cp="modulepreload",Pp=function(u){return"/"+u},hd={},Ar=function(r,i,o){let a=Promise.resolve();if(i&&i.length>0){let f=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=f(i.map(y=>{if(y=Pp(y),y in hd)return;hd[y]=!0;const v=y.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":Cp,v||(b.as="script"),b.crossOrigin="",b.href=y,g&&b.setAttribute("nonce",g),document.head.appendChild(b),v)return new Promise((k,R)=>{b.addEventListener("load",k),b.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})},Rp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>Ar(async()=>{const{default:o}=await Promise.resolve().then(()=>Lr);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)};class ha extends Error{constructor(r,i="FunctionsError",o){super(r),this.name=i,this.context=o}}class Tp extends ha{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class pd extends ha{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class gd extends ha{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Gl;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Gl||(Gl={}));var Op=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,r||[])).next())})};class Ap{constructor(r,{headers:i={},customFetch:o,region:a=Gl.Any}={}){this.url=r,this.headers=i,this.region=a,this.fetch=Rp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,i={}){var o;return Op(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:f}=i;let p={},{region:g}=i;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const _=yield this.fetch(y.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v}).catch(N=>{throw new Tp(N)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new pd(_);if(!_.ok)throw new gd(_);let k=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return k==="application/json"?R=yield _.json():k==="application/octet-stream"?R=yield _.blob():k==="text/event-stream"?R=_:k==="multipart/form-data"?R=yield _.formData():R=yield _.text(),{data:R,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof gd||a instanceof pd?a.context:void 0}}})}}var Je={},wr={},_r={},xr={},Sr={},kr={},Lp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},Or=Lp();const Ip=Or.fetch,Jd=Or.fetch.bind(Or),Gd=Or.Headers,zp=Or.Request,Np=Or.Response,Lr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gd,Request:zp,Response:Np,default:Jd,fetch:Ip},Symbol.toStringTag,{value:"Module"})),$p=mp(Lr);var Ds={},md;function Yd(){if(md)return Ds;md=1,Object.defineProperty(Ds,"__esModule",{value:!0});class u extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Ds.default=u,Ds}var yd;function Xd(){if(yd)return kr;yd=1;var u=kr&&kr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(kr,"__esModule",{value:!0});const r=u($p),i=u(Yd());class o{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=Object.assign({},this.headers),this.headers[d]=f,this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,_,b;let k=null,R=null,N=null,T=y.status,V=y.statusText;if(y.ok){if(this.method!=="HEAD"){const ce=await y.text();ce===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?R=ce:R=JSON.parse(ce))}const I=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),K=(_=y.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");I&&K&&K.length>1&&(N=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(k={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,N=null,T=406,V="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const I=await y.text();try{k=JSON.parse(I),Array.isArray(k)&&y.status===404&&(R=[],k=null,T=200,V="OK")}catch{y.status===404&&I===""?(T=204,V="No Content"):k={message:I}}if(k&&this.isMaybeSingle&&(!((b=k==null?void 0:k.details)===null||b===void 0)&&b.includes("0 rows"))&&(k=null,T=200,V="OK"),k&&this.shouldThrowOnError)throw new i.default(k)}return{error:k,data:R,count:N,status:T,statusText:V}});return this.shouldThrowOnError||(g=g.catch(y=>{var v,_,b;return{error:{message:`${(v=y==null?void 0:y.name)!==null&&v!==void 0?v:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(_=y==null?void 0:y.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(b=y==null?void 0:y.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return kr.default=o,kr}var vd;function Zd(){if(vd)return Sr;vd=1;var u=Sr&&Sr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Sr,"__esModule",{value:!0});const r=u(Xd());class i extends r.default{select(a){let d=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${a}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(y,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var v;const _=[a?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${b}"; options=${_};`,y==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Sr.default=i,Sr}var wd;function pa(){if(wd)return xr;wd=1;var u=xr&&xr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xr,"__esModule",{value:!0});const r=u(Zd());class i extends r.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${y}.${d}`),this}match(a){return Object.entries(a).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(a,d,f){return this.url.searchParams.append(a,`not.${d}.${f}`),this}or(a,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,f){return this.url.searchParams.append(a,`${d}.${f}`),this}}return xr.default=i,xr}var _d;function ef(){if(_d)return _r;_d=1;var u=_r&&_r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_r,"__esModule",{value:!0});const r=u(pa());class i{constructor(a,{headers:d={},schema:f,fetch:p}){this.url=a,this.headers=d,this.schema=f,this.fetch=p}select(a,{head:d=!1,count:f}={}){const p=d?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:d,defaultToNull:f=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const y=a.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){const y="POST",v=[`resolution=${f?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&v.push(this.headers.Prefer),p&&v.push(`count=${p}`),g||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(a)){const _=a.reduce((b,k)=>b.concat(Object.keys(k)),[]);if(_.length>0){const b=[...new Set(_)].map(k=>`"${k}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:d}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),d&&p.push(`count=${d}`),this.headers.Prefer=p.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const d="DELETE",f=[];return a&&f.push(`count=${a}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return _r.default=i,_r}var _i={},xi={},xd;function Dp(){return xd||(xd=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.version=void 0,xi.version="0.0.0-automated"),xi}var Sd;function Mp(){if(Sd)return _i;Sd=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.DEFAULT_HEADERS=void 0;const u=Dp();return _i.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},_i}var kd;function Up(){if(kd)return wr;kd=1;var u=wr&&wr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(wr,"__esModule",{value:!0});const r=u(ef()),i=u(pa()),o=Mp();class a{constructor(f,{headers:p={},schema:g,fetch:y}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=y}from(f){const p=new URL(`${this.url}/${f}`);return new r.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new a(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:g=!1,get:y=!1,count:v}={}){let _;const b=new URL(`${this.url}/rpc/${f}`);let k;g||y?(_=g?"HEAD":"GET",Object.entries(p).filter(([N,T])=>T!==void 0).map(([N,T])=>[N,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([N,T])=>{b.searchParams.append(N,T)})):(_="POST",k=p);const R=Object.assign({},this.headers);return v&&(R.Prefer=`count=${v}`),new i.default({method:_,url:b,headers:R,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return wr.default=a,wr}var bd;function Wp(){if(bd)return Je;bd=1;var u=Je&&Je.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Je,"__esModule",{value:!0}),Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const r=u(Up());Je.PostgrestClient=r.default;const i=u(ef());Je.PostgrestQueryBuilder=i.default;const o=u(pa());Je.PostgrestFilterBuilder=o.default;const a=u(Zd());Je.PostgrestTransformBuilder=a.default;const d=u(Xd());Je.PostgrestBuilder=d.default;const f=u(Yd());return Je.PostgrestError=f.default,Je.default={PostgrestClient:r.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:f.default},Je}var Fp=Wp();const Bp=da(Fp),{PostgrestClient:qp,PostgrestQueryBuilder:a0,PostgrestFilterBuilder:u0,PostgrestTransformBuilder:c0,PostgrestBuilder:d0,PostgrestError:f0}=Bp;function Hp(){if(typeof WebSocket<"u")return WebSocket;if(typeof globalThis.WebSocket<"u")return globalThis.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Vp=Hp(),Kp="2.11.15",Qp=`realtime-js/${Kp}`,Jp="1.0.0",tf=1e4,Gp=1e3;var ki;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(ki||(ki={}));var it;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(it||(it={}));var zt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(zt||(zt={}));var Yl;(function(u){u.websocket="websocket"})(Yl||(Yl={}));var Bn;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Bn||(Bn={}));class Yp{constructor(){this.HEADER_LENGTH=1}decode(r,i){return r.constructor===ArrayBuffer?i(this._binaryDecode(r)):i(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const i=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,i,o)}_decodeBroadcast(r,i,o){const a=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+a));f=f+a;const g=o.decode(r.slice(f,f+d));f=f+d;const y=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class nf{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Ie||(Ie={}));const Ed=(u,r,i={})=>{var o;const a=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,f)=>(d[f]=Xp(f,u,r,a),d),{})},Xp=(u,r,i,o)=>{const a=r.find(p=>p.name===u),d=a==null?void 0:a.type,f=i[u];return d&&!o.includes(d)?rf(d,f):Xl(f)},rf=(u,r)=>{if(u.charAt(0)==="_"){const i=u.slice(1,u.length);return ng(r,i)}switch(u){case Ie.bool:return Zp(r);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return eg(r);case Ie.json:case Ie.jsonb:return tg(r);case Ie.timestamp:return rg(r);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Xl(r);default:return Xl(r)}},Xl=u=>u,Zp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},eg=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},tg=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},ng=(u,r)=>{if(typeof u!="string")return u;const i=u.length-1,o=u[i];if(u[0]==="{"&&o==="}"){let d;const f=u.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>rf(r,p))}return u},rg=u=>typeof u=="string"?u.replace(" ","T"):u,sf=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class Fl{constructor(r,i,o={},a=tf){this.channel=r,this.event=i,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var o;return this._hasReceived(r)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var jd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(jd||(jd={}));class bi{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,a,d,f),this.pendingDiffs.forEach(g=>{this.state=bi.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bi.syncDiff(this.state,a,d,f),p())}),this.onJoin((a,d,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:f})}),this.onLeave((a,d,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,o,a){const d=this.cloneDeep(r),f=this.transformState(i),p={},g={};return this.map(d,(y,v)=>{f[y]||(g[y]=v)}),this.map(f,(y,v)=>{const _=d[y];if(_){const b=v.map(T=>T.presence_ref),k=_.map(T=>T.presence_ref),R=v.filter(T=>k.indexOf(T.presence_ref)<0),N=_.filter(T=>b.indexOf(T.presence_ref)<0);R.length>0&&(p[y]=R),N.length>0&&(g[y]=N)}else p[y]=v}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(r,i,o,a){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var y;const v=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(g),v.length>0){const _=r[p].map(k=>k.presence_ref),b=v.filter(k=>_.indexOf(k.presence_ref)<0);r[p].unshift(...b)}o(p,v,g)}),this.map(f,(p,g)=>{let y=r[p];if(!y)return;const v=g.map(_=>_.presence_ref);y=y.filter(_=>v.indexOf(_.presence_ref)<0),r[p]=y,a(p,y,g),y.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(o=>i(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,o)=>{const a=r[o];return"metas"in a?i[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=a,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Cd||(Cd={}));var Pd;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Pd||(Pd={}));var Gt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class ga{constructor(r,i={config:{}},o){this.topic=r,this.params=i,this.socket=o,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Fl(this,zt.join,this.params,this.timeout),this.rejoinTimer=new nf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new bi(this),this.broadcastEndpointURL=sf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,i=this.timeout){var o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params;this._onError(v=>r==null?void 0:r(Gt.CHANNEL_ERROR,v)),this._onClose(()=>r==null?void 0:r(Gt.CLOSED));const g={},y={broadcast:d,presence:f,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(v=>v.filter))!==null&&a!==void 0?a:[],private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){r==null||r(Gt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(_=b==null?void 0:b.length)!==null&&_!==void 0?_:0,R=[];for(let N=0;N<k;N++){const T=b[N],{filter:{event:V,schema:J,table:I,filter:K}}=T,ce=v&&v[N];if(ce&&ce.event===V&&ce.schema===J&&ce.table===I&&ce.filter===K)R.push(Object.assign(Object.assign({},T),{id:ce.id}));else{this.unsubscribe(),this.state=it.errored,r==null||r(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,r&&r(Gt.SUBSCRIBED);return}}).receive("error",v=>{this.state=it.errored,r==null||r(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,o){return this._on(r,i,o)}async send(r,i={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=y.body)===null||a===void 0?void 0:a.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const y=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=it.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Fl(this,zt.leave,{},r),o.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,i,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(d),f}_push(r,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fl(this,r,i,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(r,i,o){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,o){var a,d;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:y,join:v}=zt;if(o&&[p,g,y,v].indexOf(f)>=0&&o!==this._joinRef())return;let b=this._onMessage(f,i,o);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var R,N,T;return((R=k.filter)===null||R===void 0?void 0:R.event)==="*"||((T=(N=k.filter)===null||N===void 0?void 0:N.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===f}).map(k=>k.callback(b,o)):(d=this.bindings[f])===null||d===void 0||d.filter(k=>{var R,N,T,V,J,I;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in k){const K=k.id,ce=(R=k.filter)===null||R===void 0?void 0:R.event;return K&&((N=i.ids)===null||N===void 0?void 0:N.includes(K))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((T=i.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const K=(J=(V=k==null?void 0:k.filter)===null||V===void 0?void 0:V.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return K==="*"||K===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===f}).map(k=>{if(typeof b=="object"&&"ids"in b){const R=b.data,{schema:N,table:T,commit_timestamp:V,type:J,errors:I}=R;b=Object.assign(Object.assign({},{schema:N,table:T,commit_timestamp:V,eventType:J,new:{},old:{},errors:I}),this._getPayloadRecords(R))}k.callback(b,o)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,o){const a=r.toLocaleLowerCase(),d={type:a,filter:i,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(r,i){const o=r.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&ga.isEqual(a.filter,i))}),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const o in r)if(r[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(zt.close,{},r)}_onError(r){this._on(zt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=Ed(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=Ed(r.columns,r.old_record)),i}}const Rd=()=>{},ig=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sg{constructor(r,i){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rd,this.ref=0,this.logger=Rd,this.conn=null,this.sendBuffer=[],this.serializer=new Yp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=d=>{let f;return d?f=d:typeof fetch>"u"?f=(...p)=>Ar(async()=>{const{default:g}=await Promise.resolve().then(()=>Lr);return{default:g}},void 0).then(({default:g})=>g(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${r}/${Yl.websocket}`,this.httpEndpoint=sf(r),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),(i!=null&&i.logLevel||i!=null&&i.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const a=(o=i==null?void 0:i.params)===null||o===void 0?void 0:o.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:d=>[1e3,2e3,5e3,1e4][d-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(d,f)=>f(JSON.stringify(d)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Vp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jp}))}disconnect(r,i){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,o){this.logger(r,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ki.connecting:return Bn.Connecting;case ki.open:return Bn.Open;case ki.closing:return Bn.Closing;default:return Bn.Closed}}isConnected(){return this.connectionState()===Bn.Open}channel(r,i={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new ga(`realtime:${r}`,i,this);return this.channels.push(d),d}}push(r){const{topic:i,event:o,payload:a,ref:d}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${o} (${d})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){let i=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const a={access_token:i,version:Qp};i&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(zt.access_token,{access_token:i})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(Gp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,i=>{let{topic:o,event:a,payload:d,ref:f}=i;o==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${d.status||""} ${o} ${a} ${f&&"("+f+")"||""}`,d),Array.from(this.channels).filter(p=>p._isMember(o)).forEach(p=>p._trigger(a,d,f)),this.stateChangeCallbacks.message.forEach(p=>p(i))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(zt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${r}${o}${a}`}_workerObjectUrl(r){let i;if(r)i=r;else{const o=new Blob([ig],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}}class ma extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ge(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class og extends ma{constructor(r,i){super(r),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zl extends ma{constructor(r,i){super(r),this.name="StorageUnknownError",this.originalError=i}}var lg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,r||[])).next())})};const of=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>Ar(async()=>{const{default:o}=await Promise.resolve().then(()=>Lr);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},ag=()=>lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ar(()=>Promise.resolve().then(()=>Lr),void 0)).Response:Response}),ea=u=>{if(Array.isArray(u))return u.map(i=>ea(i));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([i,o])=>{const a=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[a]=ea(o)}),r};var qn=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,r||[])).next())})};const Bl=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),ug=(u,r,i)=>qn(void 0,void 0,void 0,function*(){const o=yield ag();u instanceof o&&!(i!=null&&i.noResolveJson)?u.json().then(a=>{r(new og(Bl(a),u.status||500))}).catch(a=>{r(new Zl(Bl(a),a))}):r(new Zl(Bl(u),u))}),cg=(u,r,i,o)=>{const a={method:u,headers:(r==null?void 0:r.headers)||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o&&(a.body=JSON.stringify(o)),Object.assign(Object.assign({},a),i))};function ji(u,r,i,o,a,d){return qn(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(i,cg(r,o,a,d)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>ug(g,p,o))})})}function Bs(u,r,i,o){return qn(this,void 0,void 0,function*(){return ji(u,"GET",r,i,o)})}function _n(u,r,i,o,a){return qn(this,void 0,void 0,function*(){return ji(u,"POST",r,o,a,i)})}function dg(u,r,i,o,a){return qn(this,void 0,void 0,function*(){return ji(u,"PUT",r,o,a,i)})}function fg(u,r,i,o){return qn(this,void 0,void 0,function*(){return ji(u,"HEAD",r,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function lf(u,r,i,o,a){return qn(this,void 0,void 0,function*(){return ji(u,"DELETE",r,o,a,i)})}var gt=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,r||[])).next())})};const hg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Td={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pg{constructor(r,i={},o,a){this.url=r,this.headers=i,this.bucketId=o,this.fetch=of(a)}uploadOrUpdate(r,i,o,a){return gt(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Td),a);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(p=Object.assign(Object.assign({},p),a.headers));const y=this._removeEmptyFolders(i),v=this._getFinalPath(y),_=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:r,body:d,headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{})),b=yield _.json();return _.ok?{data:{path:y,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(d){if(Ge(d))return{data:null,error:d};throw d}})}upload(r,i,o){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,i,o)})}uploadToSignedUrl(r,i,o,a){return gt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let g;const y=Object.assign({upsert:Td.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",y.cacheControl)):(g=o,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const _=yield this.fetch(p.toString(),{method:"PUT",body:g,headers:v}),b=yield _.json();return _.ok?{data:{path:d,fullPath:b.Key},error:null}:{data:null,error:b}}catch(g){if(Ge(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,i){return gt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const d=yield _n(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new ma("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}update(r,i,o){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,i,o)})}move(r,i,o){return gt(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}copy(r,i,o){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield _n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}createSignedUrl(r,i,o){return gt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),d=yield _n(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}createSignedUrls(r,i,o){return gt(this,void 0,void 0,function*(){try{const a=yield _n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:r},{headers:this.headers}),d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}download(r,i){return gt(this,void 0,void 0,function*(){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),f=d?`?${d}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield Bs(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Ge(p))return{data:null,error:p};throw p}})}info(r){return gt(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{const o=yield Bs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:ea(o),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}exists(r){return gt(this,void 0,void 0,function*(){const i=this._getFinalPath(r);try{return yield fg(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ge(o)&&o instanceof Zl){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,i){const o=this._getFinalPath(r),a=[],d=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&a.push(d);const p=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&a.push(g);let y=a.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${y}`)}}}remove(r){return gt(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}list(r,i,o){return gt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},hg),i),{prefix:r||""});return{data:yield _n(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const i=[];return r.width&&i.push(`width=${r.width}`),r.height&&i.push(`height=${r.height}`),r.resize&&i.push(`resize=${r.resize}`),r.format&&i.push(`format=${r.format}`),r.quality&&i.push(`quality=${r.quality}`),i.join("&")}}const gg="2.7.1",mg={"X-Client-Info":`storage-js/${gg}`};var br=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,[])).next())})};class yg{constructor(r,i={},o){this.url=r,this.headers=Object.assign(Object.assign({},mg),i),this.fetch=of(o)}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}getBucket(r){return br(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}createBucket(r,i={public:!1}){return br(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}updateBucket(r,i){return br(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}emptyBucket(r){return br(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}deleteBucket(r){return br(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}}class vg extends yg{constructor(r,i={},o){super(r,i,o)}from(r){return new pg(this.url,this.headers,r,this.fetch)}}const wg="2.52.0";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const _g={"X-Client-Info":`supabase-js-${Si}/${wg}`},xg={headers:_g},Sg={schema:"public"},kg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bg={};var Eg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,r||[])).next())})};const jg=u=>{let r;return u?r=u:typeof fetch>"u"?r=Jd:r=fetch,(...i)=>r(...i)},Cg=()=>typeof Headers>"u"?Gd:Headers,Pg=(u,r,i)=>{const o=jg(i),a=Cg();return(d,f)=>Eg(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:u;let y=new a(f==null?void 0:f.headers);return y.has("apikey")||y.set("apikey",u),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},f),{headers:y}))})};var Rg=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,[])).next())})};function Tg(u){return u.endsWith("/")?u:u+"/"}function Og(u,r){var i,o;const{db:a,auth:d,realtime:f,global:p}=u,{db:g,auth:y,realtime:v,global:_}=r,b={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},v),f),global:Object.assign(Object.assign(Object.assign({},_),p),{headers:Object.assign(Object.assign({},(i=_==null?void 0:_.headers)!==null&&i!==void 0?i:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Rg(this,void 0,void 0,function*(){return""})};return u.accessToken?b.accessToken=u.accessToken:delete b.accessToken,b}const af="2.71.1",Rr=30*1e3,ta=3,ql=ta*Rr,Ag="http://localhost:9999",Lg="supabase.auth.token",Ig={"X-Client-Info":`gotrue-js/${af}`},na="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ng=10*60*1e3;class ya extends Error{constructor(r,i,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function ye(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class $g extends ya{constructor(r,i,o){super(r,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function Dg(u){return ye(u)&&u.name==="AuthApiError"}class cf extends ya{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class Sn extends ya{constructor(r,i,o,a){super(r,o,a),this.name=i,this.status=o}}class wn extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mg(u){return ye(u)&&u.name==="AuthSessionMissingError"}class Ms extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends Sn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends Sn{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ug(u){return ye(u)&&u.name==="AuthImplicitGrantRedirectError"}class Od extends Sn{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ra extends Sn{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Hl(u){return ye(u)&&u.name==="AuthRetryableFetchError"}class Ad extends Sn{constructor(r,i,o){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class ia extends Sn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ld=` 	
\r=`.split(""),Wg=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<Ld.length;r+=1)u[Ld[r].charCodeAt(0)]=-2;for(let r=0;r<qs.length;r+=1)u[qs[r].charCodeAt(0)]=r;return u})();function Id(u,r,i){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(qs[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;i(qs[o]),r.queuedBits-=6}}function df(u,r,i){const o=Wg[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function zd(u){const r=[],i=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=f=>{qg(f,o,i)};for(let f=0;f<u.length;f+=1)df(u.charCodeAt(f),a,d);return r.join("")}function Fg(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Bg(u,r){for(let i=0;i<u.length;i+=1){let o=u.charCodeAt(i);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}Fg(o,r)}}function qg(u,r,i){if(r.utf8seq===0){if(u<=127){i(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function Hg(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<u.length;a+=1)df(u.charCodeAt(a),i,o);return new Uint8Array(r)}function Vg(u){const r=[];return Bg(u,i=>r.push(i)),new Uint8Array(r)}function Kg(u){const r=[],i={queue:0,queuedBits:0},o=a=>{r.push(a)};return u.forEach(a=>Id(a,i,o)),Id(null,i,o),r.join("")}function Qg(u){return Math.round(Date.now()/1e3)+u}function Jg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},ff=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function Gg(u){const r={},i=new URL(u);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,d)=>{r[d]=a})}catch{}return i.searchParams.forEach((o,a)=>{r[a]=o}),r}const hf=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...i)=>Ar(async()=>{const{default:o}=await Promise.resolve().then(()=>Lr);return{default:o}},void 0).then(({default:o})=>o(...i)):r=fetch,(...i)=>r(...i)},Yg=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",Tr=async(u,r,i)=>{await u.setItem(r,JSON.stringify(i))},Wn=async(u,r)=>{const i=await u.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},vn=async(u,r)=>{await u.removeItem(r)};class Hs{constructor(){this.promise=new Hs.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}Hs.promiseConstructor=Promise;function Vl(u){const r=u.split(".");if(r.length!==3)throw new ia("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!zg.test(r[o]))throw new ia("JWT not in base64url format");return{header:JSON.parse(zd(r[0])),payload:JSON.parse(zd(r[1])),signature:Hg(r[2]),raw:{header:r[0],payload:r[1]}}}async function Xg(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function Zg(u,r){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!r(d,null,f)){o(f);return}}catch(f){if(!r(d,f)){a(f);return}}})()})}function em(u){return("0"+u.toString(16)).substr(-2)}function tm(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let a="";for(let d=0;d<56;d++)a+=i.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,em).join("")}async function nm(u){const i=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function rm(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const i=await nm(u);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(u,r,i=!1){const o=tm();let a=o;i&&(a+="/PASSWORD_RECOVERY"),await Tr(u,`${r}-code-verifier`,a);const d=await rm(o);return[d,o===d?"plain":"s256"]}const im=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sm(u){const r=u.headers.get(na);if(!r||!r.match(im))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function om(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function lm(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const am=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(u){if(!am.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const u={};return new Proxy(u,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nd(u){return JSON.parse(JSON.stringify(u))}var um=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};const Fn=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),cm=[502,503,504];async function $d(u){var r;if(!Yg(u))throw new ra(Fn(u),0);if(cm.includes(u.status))throw new ra(Fn(u),u.status);let i;try{i=await u.json()}catch(d){throw new cf(Fn(d),d)}let o;const a=sm(u);if(a&&a.getTime()>=uf["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new Ad(Fn(i),u.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new wn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Ad(Fn(i),u.status,i.weak_password.reasons);throw new $g(Fn(i),u.status||500,o)}const dm=(u,r,i,o)=>{const a={method:u,headers:(r==null?void 0:r.headers)||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),i))};async function Se(u,r,i,o){var a;const d=Object.assign({},o==null?void 0:o.headers);d[na]||(d[na]=uf["2024-01-01"].name),o!=null&&o.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await fm(u,r,i+p,{headers:d,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function fm(u,r,i,o,a,d){const f=dm(r,o,a,d);let p;try{p=await u(i,Object.assign({},f))}catch(g){throw console.error(g),new ra(Fn(g),0)}if(p.ok||await $d(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(g){await $d(g)}}function Jt(u){var r;let i=null;mm(u)&&(i=Object.assign({},u),u.expires_at||(i.expires_at=Qg(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:i,user:o},error:null}}function Dd(u){const r=Jt(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function xn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function hm(u){return{data:u,error:null}}function pm(u){const{action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d}=u,f=um(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function gm(u){return u}function mm(u){return u.access_token&&u.refresh_token&&u.expires_in}const Ql=["global","local","others"];var ym=function(u,r){var i={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(i[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(i[o[a]]=u[o[a]]);return i};class vm{constructor({url:r="",headers:i={},fetch:o}){this.url=r,this.headers=i,this.fetch=hf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,i=Ql[0]){if(Ql.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ql.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ye(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,i={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:xn})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:i}=r,o=ym(r,["options"]),a=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:pm,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ye(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:xn})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,o,a,d,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=r==null?void 0:r.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=r==null?void 0:r.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:gm});if(v.error)throw v.error;const _=await v.json(),b=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(R.split(";")[1].split("=")[1]);y[`${T}Page`]=N}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(ye(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){jr(r);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:xn})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){jr(r);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:xn})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,i=!1){jr(r);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:xn})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){jr(r.userId);try{const{data:i,error:o}=await Se(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:o}}catch(i){if(ye(i))return{data:null,error:i};throw i}}async _deleteFactor(r){jr(r.userId),jr(r.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}}function Md(u={}){return{getItem:r=>u[r]||null,setItem:(r,i)=>{u[r]=i},removeItem:r=>{delete u[r]}}}function wm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cr={debug:!!(globalThis&&ff()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class _m extends pf{}async function xm(u,r,i){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await i()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(r===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new _m(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(Cr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}wm();const Sm={url:Ag,storageKey:Lg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ig,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ud(u,r,i){return await i()}const Pr={};class Ei{constructor(r){var i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ei.nextInstanceID,Ei.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Sm),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new vm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hf(a.fetch),this.lock=a.lock||Ud,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:It()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=xm:this.lock=Ud,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ff()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Md(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,i;return(i=(r=Pr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=Pr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${af}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const i=Gg(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),It()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Ug(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ye(i)?{error:i}:{error:new cf("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,o,a;try{const d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=r==null?void 0:r.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.captchaToken}},xform:Jt}),{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(d){if(ye(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var i,o,a;try{let d;if("email"in r){const{email:v,password:_,options:b}=r;let k=null,R=null;this.flowType==="pkce"&&([k,R]=await Er(this.storage,this.storageKey)),d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:_,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:k,code_challenge_method:R},xform:Jt})}else if("phone"in r){const{phone:v,password:_,options:b}=r;d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=b==null?void 0:b.data)!==null&&o!==void 0?o:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Jt})}else throw new Us("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(d){if(ye(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let i;if("email"in r){const{email:d,password:f,options:p}=r;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Dd})}else if("phone"in r){const{phone:d,password:f,options:p}=r;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Dd})}else throw new Us("You must provide either an email or phone number and a password");const{data:o,error:a}=i;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ms}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(r){var i,o,a,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;if(i==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(r){var i,o,a,d,f,p,g,y,v,_,b,k;let R,N;if("message"in r)R=r.message,N=r.signature;else{const{chain:T,wallet:V,statement:J,options:I}=r;let K;if(It())if(typeof V=="object")K=V;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))K=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=V}const ce=new URL((i=I==null?void 0:I.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in K&&K.signIn){const ee=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),J?{statement:J}:null));let Q;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")Q=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)Q=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)R=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),N=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${ce.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(a=(o=I==null?void 0:I.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=I==null?void 0:I.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((y=I==null?void 0:I.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((_=(v=I==null?void 0:I.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...I.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ee=await K.signMessage(new TextEncoder().encode(R),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ee}}try{const{data:T,error:V}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Kg(N)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Jt});if(V)throw V;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Ms}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:V})}catch(T){if(ye(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(r){const i=await Wn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(i??"").split("/");try{const{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Jt});if(await vn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:f})}catch(d){if(ye(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:i,provider:o,token:a,access_token:d,nonce:f}=r,p=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Jt}),{data:g,error:y}=p;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ms}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(r){var i,o,a,d,f;try{if("email"in r){const{email:p,options:g}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Er(this.storage,this.storageKey));const{error:_}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in r){const{phone:p,options:g}=r,{data:y,error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v}}throw new Us("You must provide either an email or phone number.")}catch(p){if(ye(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var i,o;try{let a,d;"options"in r&&(a=(i=r.options)===null||i===void 0?void 0:i.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:Jt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var i,o,a;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await Er(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r==null?void 0:r.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:hm})}catch(d){if(ye(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)throw o;if(!i)throw new wn;const{error:a}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:d}=r,{error:f}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:a,options:d}=r,{data:f,error:p}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Us("You must provide either an email or phone number and a type")}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await Wn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?r.user=f.user:r.user=Kl()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,y,v)=>(!f&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,v))})}return{data:{session:r},error:null}}const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:xn}):await this._useSession(async i=>{var o,a,d;const{data:f,error:p}=i;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:xn})})}catch(i){if(ye(i))return Mg(i)&&(await this._removeSession(),await vn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new wn;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await Er(this.storage,this.storageKey));const{data:y,error:v}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:xn});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(ye(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new wn;const i=Date.now()/1e3;let o=i,a=!0,d=null;const{payload:f}=Vl(r.access_token);if(f.exp&&(o=f.exp,a=o<=i),a){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(ye(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var o;if(!r){const{data:f,error:p}=i;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new wn;const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(ye(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(r,i){try{if(!It())throw new Ws("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ws(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Od("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Od("No code detected.");const{data:J,error:I}=await this._exchangeCodeForSession(r.code);if(I)throw I;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:y}=r;if(!d||!p||!f||!y)throw new Ws("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(p);let b=v+_;g&&(b=parseInt(g));const k=b-v;k*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${_}s`);const R=b-_;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,b,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,b,v);const{data:N,error:T}=await this._getUser(d);if(T)throw T;const V={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:_,expires_at:b,refresh_token:f,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:r.type},error:null}}catch(o){if(ye(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{error:d};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(Dg(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await vn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const i=Jg(),o={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async i=>{var o,a;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,i={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Er(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(ye(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}async linkIdentity(r){var i;try{const{data:o,error:a}=await this._useSession(async d=>{var f,p,g,y,v;const{data:_,error:b}=d;if(b)throw b;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return It()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(ye(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)throw f;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await Zg(async a=>(a>0&&await Xg(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Jt})),(a,d)=>{const f=200*Math.pow(2,a);return d&&Hl(d)&&Date.now()+f-o<Rr})}catch(o){if(this._debug(i,"error",o),ye(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",o),It()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Wn(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await Tr(this.userStorage,this.storageKey+"-user",f)),a.user=(r=f==null?void 0:f.user)!==null&&r!==void 0?r:Kl()}else if(a&&!a.user&&!a.user){const f=await Wn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(a.user=f.user,await vn(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,a)):a.user=Kl()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<ql;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${ql}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Hl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&(f!=null&&f.user)?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var i,o;if(!r)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Hs;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new wn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),ye(d)){const f={session:null,error:d};return Hl(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,i,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const i=Object.assign({},r),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const d=Nd(a);await Tr(this.storage,this.storageKey,d)}else{const a=Nd(i);await Tr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await vn(this.storage,this.storageKey),await vn(this.storage,this.storageKey+"-code-verifier"),await vn(this.storage,this.storageKey+"-user"),this.userStorage&&await vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Rr}ms, refresh threshold is ${ta} ticks`),a<=ta&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof pf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,o){const a=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await Er(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o!=null&&o.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await Se(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async _enroll(r){try{return await this._useSession(async i=>{var o,a;const{data:d,error:f}=i;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:y}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:p}=await Se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(i){if(ye(i))return{data:null,error:i};throw i}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:a,error:d}=i;return d?{data:null,error:d}:await Se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ye(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(r){const{data:i,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=(r==null?void 0:r.factors)||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var i,o;const{data:{session:a},error:d}=r;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Vl(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,i={keys:[]}){let o=i.keys.find(p=>p.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+Ng>a)return o;const{data:d,error:f}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,i={}){try{let o=r;if(!o){const{data:k,error:R}=await this.getSession();if(R||!k.session)return{data:null,error:R};o=k.session.access_token}const{header:a,payload:d,signature:f,raw:{header:p,payload:g}}=Vl(o);i!=null&&i.allowExpired||om(d.exp);const y=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!y){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:d,header:a,signature:f},error:null}}const v=lm(a.alg),_=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,Vg(`${p}.${g}`)))throw new ia("Invalid JWT signature");return{data:{claims:d,header:a,signature:f},error:null}}catch(o){if(ye(o))return{data:null,error:o};throw o}}}Ei.nextInstanceID=0;const km=Ei;class bm extends km{constructor(r){super(r)}}var Em=function(u,r,i,o){function a(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?d(v.value):a(v.value).then(p,g)}y((o=o.apply(u,[])).next())})};class jm{constructor(r,i,o){var a,d,f;if(this.supabaseUrl=r,this.supabaseKey=i,!r)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const p=Tg(r),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:Sg,realtime:bg,auth:Object.assign(Object.assign({},kg),{storageKey:y}),global:xg},_=Og(o??{},v);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=_.global.headers)!==null&&d!==void 0?d:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(b,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=Pg(i,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new qp(new URL("rest/v1",g).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new Ap(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vg(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,i={},o={}){return this.rest.rpc(r,i,o)}channel(r,i={config:{}}){return this.realtime.channel(r,i)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,i;return Em(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,storageKey:d,flowType:f,lock:p,debug:g},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bm({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:d,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:a,flowType:f,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new sg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,i,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cm=(u,r,i)=>new jm(u,r,i),Pm="https://euahggopmxktxbgqkhny.supabase.co",Rm="sb_publishable_qMtE9wEsc3zN9JVbPI_R5Q_AiQgDpcN",ge=Cm(Pm,Rm),gf=L.createContext(void 0),Tm=({children:u})=>{const[r,i]=L.useState(null),[o,a]=L.useState(!0),[d,f]=L.useState(null);L.useEffect(()=>{const _=async()=>{a(!0);const{data:k}=await ge.auth.getUser();if(k!=null&&k.user){const{data:R,error:N}=await ge.from("users").select("*").eq("id",k.user.id).single();R&&i(R),N&&f(N.message)}else i(null);a(!1)};_();const{data:b}=ge.auth.onAuthStateChange(()=>{_()});return()=>{b==null||b.subscription.unsubscribe()}},[]);const p=async(_,b,k)=>{a(!0),f(null);const{data:R,error:N}=await ge.auth.signUp({email:_,password:b});if(N){f(N.message),a(!1);return}if(R.user){const{error:T}=await ge.from("users").insert({id:R.user.id,email:_,name:k});T&&f(T.message)}a(!1)},g=async(_,b)=>{a(!0),f(null);const{data:k,error:R}=await ge.auth.signInWithPassword({email:_,password:b});if(R){f(R.message),a(!1);return}if(k.user){const{data:N,error:T}=await ge.from("users").select("*").eq("id",k.user.id).single();N&&i(N),T&&f(T.message)}a(!1)},y=async()=>{a(!0),f(null),await ge.auth.signOut(),i(null),a(!1)},v=async()=>{a(!0),f(null);const{data:_}=await ge.auth.getUser();if(_!=null&&_.user){const{data:b,error:k}=await ge.from("users").select("*").eq("id",_.user.id).single();b&&i(b),k&&f(k.message)}else i(null);a(!1)};return m.jsx(gf.Provider,{value:{user:r,loading:o,error:d,signUp:p,signIn:g,signOut:y,refreshSession:v},children:u})},Ir=()=>{const u=L.useContext(gf);if(u===void 0)throw new Error("useAuth must be used within an AuthProvider");return u},mf=L.createContext(void 0),Om=({children:u})=>{const{user:r,refreshSession:i}=Ir(),[o,a]=L.useState(null),[d,f]=L.useState(!1),[p,g]=L.useState(null);L.useEffect(()=>{r!=null&&r.household_id?y(r.household_id):a(null)},[r==null?void 0:r.household_id]);const y=async k=>{f(!0),g(null);const{data:R,error:N}=await ge.from("households").select("*").eq("id",k).single();R&&a(R),N&&g(N.message),f(!1)},v=async k=>{f(!0),g(null);const{data:R,error:N}=await ge.from("households").insert({name:k}).select().single();if(N){g(N.message),f(!1);return}r&&(await ge.from("users").update({household_id:R.id}).eq("id",r.id),await i()),a(R),f(!1)},_=async k=>{f(!0),g(null);const{data:R,error:N}=await ge.from("households").select("*").eq("id",k).single();if(N||!R){g("Invalid invite code"),f(!1);return}r&&(await ge.from("users").update({household_id:R.id}).eq("id",r.id),await i()),a(R),f(!1)},b=async()=>{r!=null&&r.household_id&&await y(r.household_id)};return m.jsx(mf.Provider,{value:{household:o,loading:d,error:p,createHousehold:v,joinHousehold:_,refreshHousehold:b},children:u})},Yt=()=>{const u=L.useContext(mf);if(u===void 0)throw new Error("useHousehold must be used within a HouseholdProvider");return u},Am=()=>{const{signIn:u,signUp:r,loading:i,error:o}=Ir(),[a,d]=L.useState("login"),[f,p]=L.useState(""),[g,y]=L.useState(""),[v,_]=L.useState(""),b=async k=>{k.preventDefault(),a==="login"?await u(f,g):await r(f,g,v)};return m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(120deg, #f8fafc 0%, #e3e7ed 100%)"},children:m.jsxs("form",{onSubmit:b,style:{background:"#fff",padding:"2.5rem 2rem",borderRadius:12,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",minWidth:320,display:"flex",flexDirection:"column",gap:18},children:[m.jsx("h2",{style:{textAlign:"center",margin:0,fontWeight:700,color:"#2d3748"},children:a==="login"?"Login":"Sign Up"}),a==="signup"&&m.jsx("input",{type:"text",placeholder:"Name",value:v,onChange:k=>_(k.target.value),required:!0,style:{padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:16}}),m.jsx("input",{type:"email",placeholder:"Email",value:f,onChange:k=>p(k.target.value),required:!0,style:{padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:16}}),m.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:k=>y(k.target.value),required:!0,style:{padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:16}}),m.jsx("button",{type:"submit",disabled:i,style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"12px 0",fontWeight:600,fontSize:16,cursor:i?"not-allowed":"pointer",marginTop:8,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:i?"Please wait...":a==="login"?"Login":"Sign Up"}),o&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginTop:4,fontWeight:500},children:o}),m.jsx("div",{style:{textAlign:"center",marginTop:8},children:a==="login"?m.jsxs("span",{children:["Don't have an account?"," ",m.jsx("button",{type:"button",onClick:()=>d("signup"),style:{background:"none",border:"none",color:"#6366f1",fontWeight:600,cursor:"pointer",textDecoration:"underline",fontSize:15},children:"Sign Up"})]}):m.jsxs("span",{children:["Already have an account?"," ",m.jsx("button",{type:"button",onClick:()=>d("login"),style:{background:"none",border:"none",color:"#6366f1",fontWeight:600,cursor:"pointer",textDecoration:"underline",fontSize:15},children:"Login"})]})})]})})},Lm=()=>{const{household:u,createHousehold:r,joinHousehold:i,loading:o,error:a}=Yt(),{user:d}=Ir(),[f,p]=L.useState("create"),[g,y]=L.useState(""),[v,_]=L.useState("");if(!d)return null;if(u)return m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(120deg, #f8fafc 0%, #e3e7ed 100%)"},children:m.jsxs("div",{style:{background:"#fff",padding:"2.5rem 2rem",borderRadius:12,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",minWidth:340,display:"flex",flexDirection:"column",alignItems:"center",gap:18},children:[m.jsxs("h2",{style:{textAlign:"center",margin:0,fontWeight:700,color:"#2d3748"},children:["Welcome to ",u.name,"!"]}),m.jsx("p",{style:{textAlign:"center",color:"#475569",fontSize:16,margin:0},children:"Share this invite code with your partner:"}),m.jsx("div",{style:{background:"#f1f5f9",color:"#334155",borderRadius:8,padding:"10px 18px",fontSize:20,fontWeight:700,letterSpacing:1.5,marginTop:8},children:u.id})]})});const b=async R=>{R.preventDefault(),await r(g)},k=async R=>{R.preventDefault(),await i(v)};return m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(120deg, #f8fafc 0%, #e3e7ed 100%)"},children:m.jsxs("div",{style:{background:"#fff",padding:"2.5rem 2rem",borderRadius:12,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",minWidth:340,display:"flex",flexDirection:"column",gap:18},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:12,marginBottom:8},children:[m.jsx("button",{onClick:()=>p("create"),disabled:f==="create",style:{background:f==="create"?"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)":"#f1f5f9",color:f==="create"?"#fff":"#334155",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,fontSize:15,cursor:f==="create"?"default":"pointer",boxShadow:f==="create"?"0 2px 8px 0 rgba(60,72,88,0.08)":"none",transition:"background 0.2s"},children:"Create Household"}),m.jsx("button",{onClick:()=>p("join"),disabled:f==="join",style:{background:f==="join"?"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)":"#f1f5f9",color:f==="join"?"#fff":"#334155",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,fontSize:15,cursor:f==="join"?"default":"pointer",boxShadow:f==="join"?"0 2px 8px 0 rgba(60,72,88,0.08)":"none",transition:"background 0.2s"},children:"Join Household"})]}),f==="create"?m.jsxs("form",{onSubmit:b,style:{display:"flex",flexDirection:"column",gap:14},children:[m.jsx("h2",{style:{textAlign:"center",margin:0,fontWeight:700,color:"#2d3748"},children:"Create a New Household"}),m.jsx("input",{type:"text",placeholder:"Household Name",value:g,onChange:R=>y(R.target.value),required:!0,style:{padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:16}}),m.jsx("button",{type:"submit",disabled:o,style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"12px 0",fontWeight:600,fontSize:16,cursor:o?"not-allowed":"pointer",marginTop:8,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Create"})]}):m.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:14},children:[m.jsx("h2",{style:{textAlign:"center",margin:0,fontWeight:700,color:"#2d3748"},children:"Join an Existing Household"}),m.jsx("input",{type:"text",placeholder:"Invite Code",value:v,onChange:R=>_(R.target.value),required:!0,style:{padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:16}}),m.jsx("button",{type:"submit",disabled:o,style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"12px 0",fontWeight:600,fontSize:16,cursor:o?"not-allowed":"pointer",marginTop:8,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Join"})]}),a&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginTop:4,fontWeight:500},children:a})]})})};async function va(u){const{data:r,error:i}=await ge.from("expenses").select("*").eq("household_id",u).order("date",{ascending:!1});if(i)throw new Error(i.message);return r}async function sa(u){const{data:r,error:i}=await ge.from("expenses").insert(u).select().single();if(i)throw new Error(i.message);return r}async function oa(u,r){const{data:i,error:o}=await ge.from("expenses").update(r).eq("id",u).select().single();if(o)throw new Error(o.message);return i}async function la(u){const{error:r}=await ge.from("expenses").delete().eq("id",u);if(r)throw new Error(r.message)}async function zr(u){const{data:r,error:i}=await ge.from("categories").select("*").eq("household_id",u).order("name",{ascending:!0});if(i)throw new Error(i.message);return r}async function aa(u){const{data:r,error:i}=await ge.from("categories").insert(u).select().single();if(i)throw new Error(i.message);return r}async function ua(u,r){const{data:i,error:o}=await ge.from("categories").update(r).eq("id",u).select().single();if(o)throw new Error(o.message);return i}async function ca(u){const{error:r}=await ge.from("categories").delete().eq("id",u);if(r)throw new Error(r.message)}const Im=Object.freeze(Object.defineProperty({__proto__:null,addCategory:aa,deleteCategory:ca,getCategoriesByHousehold:zr,updateCategory:ua},Symbol.toStringTag,{value:"Module"}));async function Vs(u){const r=localStorage.getItem(u);if(!r)return null;try{return JSON.parse(r)}catch{return null}}async function Ks(u,r){localStorage.setItem(u,JSON.stringify(r))}const zm=()=>typeof window<"u"&&window.innerWidth<700,Nm=()=>{const{household:u}=Yt(),[r,i]=L.useState([]),[o,a]=L.useState([]),[d,f]=L.useState(null),[p,g]=L.useState({date:"",item_name:"",amount:0,category_id:"",notes:"",is_recurring:!1}),[y,v]=L.useState(null),[_,b]=L.useState({}),[k,R]=L.useState(!1),[N,T]=L.useState([]),[V,J]=L.useState(navigator.onLine),{user:I}=Ir();L.useEffect(()=>{const A=()=>J(!0),O=()=>J(!1);return window.addEventListener("online",A),window.addEventListener("offline",O),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",O)}},[]),L.useEffect(()=>{if(!u)return;let A=!1;const O=`expenses_${u.id}`;(async()=>{if(!V){const ie=await Vs(O);!A&&ie&&i(ie);return}Promise.all([va(u.id),zr(u.id)]).then(async([ie,_e])=>{A||(i(ie),a(_e),await Ks(O,ie))}).catch(ie=>{A||f(ie.message)})})();const D=ge.channel("expenses-changes").on("postgres_changes",{event:"*",schema:"public",table:"expenses",filter:`household_id=eq.${u.id}`},ie=>{ie.eventType==="INSERT"?i(_e=>[ie.new,..._e]):ie.eventType==="UPDATE"?i(_e=>_e.map(me=>me.id===ie.new.id?ie.new:me)):ie.eventType==="DELETE"&&i(_e=>_e.filter(me=>me.id!==ie.old.id))}).subscribe();return()=>{A=!0,ge.removeChannel(D)}},[u,V]),L.useEffect(()=>{if(!u)return;const A=`expense_mutations_${u.id}`,O=localStorage.getItem(A);T(O?JSON.parse(O):[])},[u]),L.useEffect(()=>{if(!u||!V||N.length===0)return;const A=`expense_mutations_${u.id}`;(async()=>{R(!0);for(const z of N)try{z.type==="add"&&await sa(z.data),z.type==="update"&&await oa(z.id,z.data),z.type==="delete"&&await la(z.id)}catch{}localStorage.removeItem(A),T([]),R(!1)})()},[V,N,u]);const K=A=>{if(!u)return;const O=`expense_mutations_${u.id}`,z=[...N,A];T(z),localStorage.setItem(O,JSON.stringify(z))},ce=async A=>{var z;if(A.preventDefault(),!u)return;const O={...p,household_id:u.id,created_by:I==null?void 0:I.id,is_recurring:!!p.is_recurring,date:p.date||new Date().toISOString().slice(0,10),amount:Number(p.amount)||0,category_id:p.category_id||((z=o[0])==null?void 0:z.id)||"",item_name:p.item_name||""};if(!V){i([O,...r]),K({type:"add",data:O}),g({date:"",item_name:"",amount:0,category_id:"",notes:"",is_recurring:!1});return}try{const D=await sa(O);i([D,...r]),g({date:"",item_name:"",amount:0,category_id:"",notes:"",is_recurring:!1})}catch(D){f(D.message)}},ee=A=>{v(A.id),b({...A})},Q=(A,O)=>{b(z=>({...z,[A]:O}))},ue=async A=>{if(!V){i(r.map(O=>O.id===A?{...O,..._}:O)),K({type:"update",id:A,data:_}),v(null),b({});return}try{const O=await oa(A,_);i(r.map(z=>z.id===A?O:z)),v(null),b({})}catch(O){f(O.message)}},B=async A=>{if(window.confirm("Delete this expense?")){if(!V){i(r.filter(O=>O.id!==A)),K({type:"delete",id:A});return}try{await la(A),i(r.filter(O=>O.id!==A))}catch(O){f(O.message)}}},G=zm();return m.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",padding:G?"1.2rem 0.5rem":"2rem 2.5rem",margin:G?"12px 0":"32px 0",maxWidth:"100vw",width:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto"},children:[k&&m.jsx("div",{style:{background:"#e3f2fd",color:"#1565c0",padding:"4px 0",textAlign:"center",fontWeight:600,borderRadius:6,marginBottom:10},children:"Syncing offline changes..."}),d&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginBottom:10,fontWeight:500},children:d}),m.jsxs("form",{className:"expense-add-row",onSubmit:ce,style:{display:"flex",flexDirection:G?"column":"row",gap:G?10:16,alignItems:G?"stretch":"flex-end",marginBottom:18},children:[m.jsxs("div",{style:{flex:1,display:"flex",flexDirection:G?"column":"row",gap:G?10:8},children:[m.jsx("input",{type:"date",value:p.date||"",onChange:A=>g({...p,date:A.target.value}),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("input",{type:"text",placeholder:"Name",value:p.item_name||"",onChange:A=>g({...p,item_name:A.target.value}),required:!0,style:{flex:2,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}})]}),m.jsxs("div",{style:{flex:1,display:"flex",flexDirection:G?"column":"row",gap:G?10:8},children:[m.jsx("input",{type:"number",placeholder:"Price",value:p.amount||"",onChange:A=>g({...p,amount:Number(A.target.value)}),required:!0,min:"0",step:"0.01",style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("select",{value:p.category_id||"",onChange:A=>g({...p,category_id:A.target.value}),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"},children:o.map(A=>m.jsx("option",{value:A.id,children:A.name},A.id))})]}),m.jsxs("div",{style:{flex:2,display:"flex",flexDirection:G?"column":"row",gap:G?10:8},children:[m.jsx("input",{type:"text",placeholder:"Notes",value:p.notes||"",onChange:A=>g({...p,notes:A.target.value}),style:{flex:2,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:15},children:[m.jsx("input",{type:"checkbox",checked:!!p.is_recurring,onChange:A=>g({...p,is_recurring:A.target.checked}),style:{margin:0}}),"Recurring"]}),m.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontWeight:600,fontSize:15,cursor:"pointer",minWidth:70,width:G?"100%":void 0,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Add"})]})]}),m.jsx("div",{style:{overflowX:"auto",width:"100%",maxWidth:"100vw",boxSizing:"border-box"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:G?void 0:600,boxSizing:"border-box"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{background:"#f1f5f9"},children:[m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Date"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Item"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Amount"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Category"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Notes"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Recurring"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,fontSize:15,textAlign:"left",whiteSpace:"nowrap"},children:"Actions"})]})}),m.jsx("tbody",{children:r.map(A=>{var O;return y===A.id?m.jsxs("tr",{style:{background:"#f8fafc"},children:[m.jsx("td",{children:m.jsx("input",{type:"date",value:_.date||new Date().toISOString().slice(0,10),onChange:z=>Q("date",z.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsx("input",{type:"text",value:_.item_name||"",onChange:z=>Q("item_name",z.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsx("input",{type:"number",value:_.amount||"",onChange:z=>Q("amount",Number(z.target.value)),min:"0",step:"0.01",style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsx("select",{value:_.category_id||"",onChange:z=>Q("category_id",z.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"},children:o.map(z=>m.jsx("option",{value:z.id,children:z.name},z.id))})}),m.jsx("td",{children:m.jsx("input",{type:"text",value:_.notes||"",onChange:z=>Q("notes",z.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsx("input",{type:"checkbox",checked:!!_.is_recurring,onChange:()=>Q("is_recurring",!_.is_recurring)})}),m.jsxs("td",{children:[m.jsx("button",{onClick:()=>ue(A.id),style:{marginRight:6,background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Save"}),m.jsx("button",{onClick:()=>v(null),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]})]},A.id):m.jsxs("tr",{children:[m.jsx("td",{children:A.date}),m.jsx("td",{children:A.item_name}),m.jsx("td",{children:A.amount.toFixed(2)}),m.jsx("td",{children:((O=o.find(z=>z.id===A.category_id))==null?void 0:O.name)||""}),m.jsx("td",{children:A.notes}),m.jsx("td",{children:A.is_recurring?"Yes":"No"}),m.jsxs("td",{children:[m.jsx("button",{onClick:()=>ee(A),style:{marginRight:6,background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Edit"}),m.jsx("button",{onClick:()=>B(A.id),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Delete"})]})]},A.id)})})]})})]})};async function yf(u){const{data:r,error:i}=await ge.from("budgets").select("*").eq("household_id",u).order("month",{ascending:!1});if(i)throw new Error(i.message);return r}async function Wd(u){const{data:r,error:i}=await ge.from("budgets").insert(u).select().single();if(i)throw new Error(i.message);return r}async function Fd(u,r){const{data:i,error:o}=await ge.from("budgets").update(r).eq("id",u).select().single();if(o)throw new Error(o.message);return i}async function $m(u){const{error:r}=await ge.from("budgets").delete().eq("id",u);if(r)throw new Error(r.message)}function Dm(){const u=new Date;return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`}const Mm=()=>typeof window<"u"&&window.innerWidth<700,Um=()=>{const{household:u}=Yt(),[r,i]=L.useState([]),[o,a]=L.useState([]),[d,f]=L.useState([]),[p,g]=L.useState(!0),[y,v]=L.useState(null);if(L.useEffect(()=>{u&&(g(!0),Promise.all([va(u.id),zr(u.id),yf(u.id)]).then(([T,V,J])=>{i(T),a(V),f(J),g(!1)}).catch(T=>{v(T.message),g(!1)}))},[u]),p)return m.jsx("div",{children:"Loading summary..."});if(y)return m.jsx("div",{className:"dashboard-error",children:y});const _=Mm(),b=Dm(),k=r.filter(T=>T.date.startsWith(b)),R=k.reduce((T,V)=>T+V.amount,0),N={};return k.forEach(T=>{N[T.category_id]=(N[T.category_id]||0)+T.amount}),m.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",padding:_?"1.2rem 0.5rem":"2rem 2.5rem",margin:_?"18px 0":"32px 0",maxWidth:900,width:_?"95%":"100%",marginLeft:"auto",marginRight:"auto"},children:[m.jsxs("h2",{style:{fontWeight:700,fontSize:_?22:28,color:"#2d3748",marginBottom:10},children:["Spending Summary ",m.jsxs("span",{style:{fontWeight:400,fontSize:_?15:18,color:"#64748b"},children:["(",b,")"]})]}),m.jsxs("div",{style:{fontSize:_?18:22,fontWeight:700,color:"#1e293b",marginBottom:18},children:["Total Spent: ",m.jsxs("span",{style:{color:"#6366f1"},children:["$",R.toFixed(2)]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:_?16:22},children:o.map(T=>{const V=N[T.id]||0,J=d.find(ee=>ee.category_id===T.id&&ee.month===b),I=(J==null?void 0:J.limit_amount)||0,K=I?Math.min(100,V/I*100):0;let ce="#22c55e";return I&&K>=100?ce="#ef4444":I&&K>=80&&(ce="#f59e42"),m.jsxs("div",{style:{display:"flex",flexDirection:_?"column":"row",alignItems:_?"flex-start":"center",gap:_?6:18,background:_?"#f8fafc":"none",borderRadius:8,padding:_?"10px 8px":0},children:[m.jsx("span",{style:{minWidth:90,fontWeight:600,color:"#334155",fontSize:15},children:T.name}),m.jsxs("span",{style:{fontWeight:600,color:"#6366f1",fontSize:15},children:["$",V.toFixed(2)]}),I>0&&m.jsxs("span",{style:{color:"#64748b",fontSize:15,marginLeft:4},children:["/ $",I.toFixed(2)]}),m.jsxs("div",{style:{flex:1,minWidth:80,margin:_?"8px 0":"0 12px",display:"flex",alignItems:"center",gap:8},children:[m.jsx("div",{style:{background:"#e5e7eb",borderRadius:6,width:"100%",height:10,overflow:"hidden"},children:m.jsx("div",{style:{width:`${K}%`,background:ce,height:10,borderRadius:6,transition:"width 0.3s"}})}),I>0&&m.jsxs("span",{style:{fontWeight:600,fontSize:14,color:ce},children:[K.toFixed(0),"%"]}),I>0&&K>=80&&m.jsx("span",{style:{color:ce,fontWeight:600,fontSize:14,marginLeft:6},children:K>=100?"Over budget!":"Nearing limit"})]})]},T.id)})})]})},Wm=()=>typeof window<"u"&&window.innerWidth<700,Fm=()=>{const{household:u}=Yt(),[r,i]=L.useState([]),[o,a]=L.useState(!0),[d,f]=L.useState(null),[p,g]=L.useState(""),[y,v]=L.useState(null),[_,b]=L.useState(""),[k,R]=L.useState(!1),[N,T]=L.useState([]),[V,J]=L.useState(navigator.onLine);L.useEffect(()=>{const B=()=>J(!0),G=()=>J(!1);return window.addEventListener("online",B),window.addEventListener("offline",G),()=>{window.removeEventListener("online",B),window.removeEventListener("offline",G)}},[]),L.useEffect(()=>{if(!u)return;let B=!1;const G=`categories_${u.id}`;(async()=>{if(!V){const z=await Vs(G);!B&&z&&i(z),a(!1);return}a(!0),zr(u.id).then(async z=>{B||(i(z),a(!1),await Ks(G,z))}).catch(z=>{B||(f(z.message),a(!1))})})();const O=ge.channel("categories-changes").on("postgres_changes",{event:"*",schema:"public",table:"categories",filter:`household_id=eq.${u.id}`},z=>{z.eventType==="INSERT"?i(D=>[...D,z.new]):z.eventType==="UPDATE"?i(D=>D.map(ie=>ie.id===z.new.id?z.new:ie)):z.eventType==="DELETE"&&i(D=>D.filter(ie=>ie.id!==z.old.id))}).subscribe();return()=>{B=!0,ge.removeChannel(O)}},[u,V]),L.useEffect(()=>{if(!u)return;const B=`category_mutations_${u.id}`,G=localStorage.getItem(B);T(G?JSON.parse(G):[])},[u]),L.useEffect(()=>{if(!u||!V||N.length===0)return;const B=`category_mutations_${u.id}`;(async()=>{R(!0);for(const A of N)try{A.type==="add"&&await aa(A.data),A.type==="update"&&await ua(A.id,A.data),A.type==="delete"&&await ca(A.id)}catch{}localStorage.removeItem(B),T([]),R(!1)})()},[V,N,u]);const I=B=>{if(!u)return;const G=`category_mutations_${u.id}`,A=[...N,B];T(A),localStorage.setItem(G,JSON.stringify(A))},K=async B=>{if(B.preventDefault(),!u||!p.trim())return;const G={household_id:u.id,name:p.trim(),type:"custom"};if(!V){i([...r,G]),I({type:"add",data:G}),g("");return}try{const A=await aa(G);i([...r,A]),g("")}catch(A){f(A.message)}},ce=B=>{v(B.id),b(B.name)},ee=async B=>{if(!V){i(r.map(G=>G.id===B?{...G,name:_}:G)),I({type:"update",id:B,data:{name:_}}),v(null),b("");return}try{const G=await ua(B,{name:_});i(r.map(A=>A.id===B?G:A)),v(null),b("")}catch(G){f(G.message)}},Q=async B=>{if(window.confirm("Delete this category? Expenses in this category will need to be reassigned.")){if(!V){i(r.filter(G=>G.id!==B)),I({type:"delete",id:B});return}try{await ca(B),i(r.filter(G=>G.id!==B))}catch(G){f(G.message)}}};if(o)return m.jsx("div",{children:"Loading categories..."});if(d)return m.jsx("div",{className:"category-error",children:d});const ue=Wm();return m.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px 0 rgba(60,72,88,0.08)",padding:ue?"1rem 0.5rem":"1.5rem 1.5rem",margin:ue?"10px 0":"18px 0",maxWidth:420,width:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto"},children:[m.jsx("h3",{style:{fontWeight:700,fontSize:ue?18:22,color:"#2d3748",marginBottom:10,textAlign:"center"},children:"Categories"}),k&&m.jsx("div",{style:{background:"#e3f2fd",color:"#1565c0",padding:"4px 0",textAlign:"center",fontWeight:600,borderRadius:6,marginBottom:10},children:"Syncing offline changes..."}),d&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginBottom:10,fontWeight:500},children:d}),m.jsxs("form",{onSubmit:K,style:{display:"flex",flexDirection:ue?"column":"row",gap:ue?10:8,marginBottom:16},children:[m.jsx("input",{type:"text",placeholder:"New category name",value:p,onChange:B=>g(B.target.value),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontWeight:600,fontSize:15,cursor:"pointer",minWidth:70,width:ue?"100%":void 0,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Add"})]}),m.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:10},children:r.map(B=>m.jsx("li",{style:{display:"flex",alignItems:"center",gap:10,background:"#f8fafc",borderRadius:8,padding:"8px 10px"},children:y===B.id?m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"text",value:_,onChange:G=>b(G.target.value),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("button",{onClick:()=>ee(B.id),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Save"}),m.jsx("button",{onClick:()=>v(null),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{style:{flex:1,fontWeight:600,color:"#334155",fontSize:15},children:B.name}),B.type==="custom"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>ce(B),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer",marginRight:4},children:"Rename"}),m.jsx("button",{onClick:()=>Q(B.id),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Delete"})]}),B.type==="default"&&m.jsx("span",{style:{color:"#64748b",fontSize:14,marginLeft:6},children:"(default)"})]})},B.id))})]})},Bm=()=>typeof window<"u"&&window.innerWidth<700;function Fs(){const u=new Date;return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`}const qm=()=>{const{household:u}=Yt(),[r,i]=L.useState([]),[o,a]=L.useState([]),[d,f]=L.useState(!0),[p,g]=L.useState(null),[y,v]=L.useState({}),[_,b]=L.useState(!1),[k,R]=L.useState(!1),[N,T]=L.useState([]),[V,J]=L.useState(navigator.onLine);L.useEffect(()=>{const Q=()=>J(!0),ue=()=>J(!1);return window.addEventListener("online",Q),window.addEventListener("offline",ue),()=>{window.removeEventListener("online",Q),window.removeEventListener("offline",ue)}},[]),L.useEffect(()=>{if(!u)return;let Q=!1;const ue=`budgets_${u.id}`;(async()=>{if(!V){const A=await Vs(ue);!Q&&A&&a(A),f(!1);return}f(!0),Promise.all([zr(u.id),yf(u.id)]).then(async([A,O])=>{Q||(i(A),a(O),v(Object.fromEntries(A.map(z=>{var D;return[z.id,String(((D=O.find(ie=>ie.category_id===z.id&&ie.month===Fs()))==null?void 0:D.limit_amount)||"")]}))),f(!1),await Ks(ue,O))}).catch(A=>{Q||(g(A.message),f(!1))})})();const G=ge.channel("budgets-changes").on("postgres_changes",{event:"*",schema:"public",table:"budgets",filter:`household_id=eq.${u.id}`},A=>{A.eventType==="INSERT"?a(O=>[...O,A.new]):A.eventType==="UPDATE"?a(O=>O.map(z=>z.id===A.new.id?A.new:z)):A.eventType==="DELETE"&&a(O=>O.filter(z=>z.id!==A.old.id))}).subscribe();return()=>{Q=!0,ge.removeChannel(G)}},[u,V]),L.useEffect(()=>{if(!u)return;const Q=`budget_mutations_${u.id}`,ue=localStorage.getItem(Q);T(ue?JSON.parse(ue):[])},[u]),L.useEffect(()=>{if(!u||!V||N.length===0)return;const Q=`budget_mutations_${u.id}`;(async()=>{R(!0);for(const B of N)try{B.type==="add"&&await Wd(B.data),B.type==="update"&&await Fd(B.id,B.data),B.type==="delete"&&await $m(B.id)}catch{}localStorage.removeItem(Q),T([]),R(!1)})()},[V,N,u]);const I=Q=>{if(!u)return;const ue=`budget_mutations_${u.id}`,B=[...N,Q];T(B),localStorage.setItem(ue,JSON.stringify(B))},K=(Q,ue)=>{v(B=>({...B,[Q]:ue}))},ce=async Q=>{if(!u)return;const ue=Fs(),B=Number(y[Q]);if(isNaN(B)||B<0){g("Limit must be a non-negative number"),b(!1);return}const G=o.find(O=>O.category_id===Q&&O.month===ue),A={household_id:u.id,category_id:Q,month:ue,limit_amount:B};if(!V){G?(a(o.map(O=>O.id===G.id?{...O,limit_amount:B}:O)),I({type:"update",id:G.id,data:{limit_amount:B}})):(a([...o,A]),I({type:"add",data:A})),b(!1);return}try{let O;G?(O=await Fd(G.id,{limit_amount:B}),a(o.map(z=>z.id===G.id?O:z))):(O=await Wd(A),a([...o,O]))}catch(O){g(O.message)}b(!1)};if(d)return m.jsx("div",{children:"Loading budgets..."});if(p)return m.jsx("div",{className:"budget-error",children:p});const ee=Bm();return m.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px 0 rgba(60,72,88,0.08)",padding:ee?"1rem 0.5rem":"1.5rem 1.5rem",margin:ee?"10px 0":"18px 0",maxWidth:420,width:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto"},children:[m.jsxs("h3",{style:{fontWeight:700,fontSize:ee?18:22,color:"#2d3748",marginBottom:10,textAlign:"center"},children:["Budgets (",Fs(),")"]}),k&&m.jsx("div",{style:{background:"#e3f2fd",color:"#1565c0",padding:"4px 0",textAlign:"center",fontWeight:600,borderRadius:6,marginBottom:10},children:"Syncing offline changes..."}),p&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginBottom:10,fontWeight:500},children:p}),m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{background:"#f1f5f9"},children:[m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Category"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Monthly Limit"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Action"})]})}),m.jsx("tbody",{children:r.map(Q=>m.jsxs("tr",{style:{background:"#f8fafc"},children:[m.jsx("td",{style:{padding:"8px 6px",fontWeight:600,color:"#334155"},children:Q.name}),m.jsx("td",{style:{padding:"8px 6px"},children:m.jsx("input",{type:"number",min:"0",step:"0.01",value:y[Q.id]||"",onChange:ue=>K(Q.id,ue.target.value),disabled:_,style:{width:ee?"100%":90,padding:"8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}})}),m.jsx("td",{style:{padding:"8px 6px"},children:m.jsx("button",{onClick:()=>ce(Q.id),disabled:_,style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"8px 0",fontWeight:600,fontSize:15,cursor:_?"not-allowed":"pointer",minWidth:70,width:ee?"100%":void 0,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:o.find(ue=>ue.category_id===Q.id&&ue.month===Fs())?"Update":"Set"})})]},Q.id))})]})]})};async function Hm(u){const{data:r,error:i}=await ge.from("recurring_payments").select("*").eq("household_id",u).order("next_due",{ascending:!0});if(i)throw new Error(i.message);return r}async function Bd(u){const{data:r,error:i}=await ge.from("recurring_payments").insert(u).select().single();if(i)throw new Error(i.message);return r}async function qd(u,r){const{data:i,error:o}=await ge.from("recurring_payments").update(r).eq("id",u).select().single();if(o)throw new Error(o.message);return i}async function Hd(u){const{error:r}=await ge.from("recurring_payments").delete().eq("id",u);if(r)throw new Error(r.message)}const Vm=()=>typeof window<"u"&&window.innerWidth<700,Km=()=>{const{household:u}=Yt(),[r,i]=L.useState([]),[o,a]=L.useState([]),[d,f]=L.useState(!0),[p,g]=L.useState(null),[y,v]=L.useState({description:"",amount:0,category_id:"",frequency:"monthly",next_due:"",status:"active"}),[_,b]=L.useState(null),[k,R]=L.useState({}),[N,T]=L.useState(!1),[V,J]=L.useState([]),[I,K]=L.useState(navigator.onLine);L.useEffect(()=>{const O=()=>K(!0),z=()=>K(!1);return window.addEventListener("online",O),window.addEventListener("offline",z),()=>{window.removeEventListener("online",O),window.removeEventListener("offline",z)}},[]),L.useEffect(()=>{if(!u)return;const O=`recurring_${u.id}`;(async()=>{if(!I){const D=await Vs(O);D&&i(D),f(!1);return}f(!0),Promise.all([Hm(u.id),zr(u.id)]).then(async([D,ie])=>{i(D),a(ie),f(!1),await Ks(O,D)}).catch(D=>{g(D.message),f(!1)})})()},[u,I]),L.useEffect(()=>{if(!u)return;const O=`recurring_mutations_${u.id}`,z=localStorage.getItem(O);J(z?JSON.parse(z):[])},[u]),L.useEffect(()=>{if(!u||!I||V.length===0)return;const O=`recurring_mutations_${u.id}`;(async()=>{T(!0);for(const D of V)try{D.type==="add"&&await Bd(D.data),D.type==="update"&&await qd(D.id,D.data),D.type==="delete"&&await Hd(D.id)}catch{}localStorage.removeItem(O),J([]),T(!1)})()},[I,V,u]);const ce=O=>{if(!u)return;const z=`recurring_mutations_${u.id}`,D=[...V,O];J(D),localStorage.setItem(z,JSON.stringify(D))},ee=async O=>{if(O.preventDefault(),!u||!y.description||!y.amount||!y.category_id||!y.frequency||!y.next_due)return;const z={household_id:u.id,description:y.description,amount:Number(y.amount),category_id:y.category_id,frequency:y.frequency,next_due:y.next_due,status:"active"};if(!I){i([...r,z]),ce({type:"add",data:z}),v({description:"",amount:0,category_id:"",frequency:"monthly",next_due:"",status:"active"});return}try{const D=await Bd(z);i([...r,D]),v({description:"",amount:0,category_id:"",frequency:"monthly",next_due:"",status:"active"})}catch(D){g(D.message)}},Q=O=>{b(O.id),R({...O})},ue=(O,z)=>{R(D=>({...D,[O]:z}))},B=async O=>{if(!I){i(r.map(z=>z.id===O?{...z,...k}:z)),ce({type:"update",id:O,data:k}),b(null),R({});return}try{const z=await qd(O,k);i(r.map(D=>D.id===O?z:D)),b(null),R({})}catch(z){g(z.message)}},G=async O=>{if(window.confirm("Delete this recurring payment?")){if(!I){i(r.filter(z=>z.id!==O)),ce({type:"delete",id:O});return}try{await Hd(O),i(r.filter(z=>z.id!==O))}catch(z){g(z.message)}}};if(d)return m.jsx("div",{children:"Loading recurring payments..."});if(p)return m.jsx("div",{className:"recurring-error",children:p});const A=Vm();return m.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px 0 rgba(60,72,88,0.08)",padding:A?"1rem 0.5rem":"1.5rem 1.5rem",margin:A?"10px 0":"18px 0",maxWidth:520,width:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto"},children:[m.jsx("h3",{style:{fontWeight:700,fontSize:A?18:22,color:"#2d3748",marginBottom:10,textAlign:"center"},children:"Recurring Payments"}),N&&m.jsx("div",{style:{background:"#e3f2fd",color:"#1565c0",padding:"4px 0",textAlign:"center",fontWeight:600,borderRadius:6,marginBottom:10},children:"Syncing offline changes..."}),p&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginBottom:10,fontWeight:500},children:p}),m.jsxs("form",{onSubmit:ee,style:{display:"flex",flexDirection:A?"column":"row",gap:A?10:8,marginBottom:16,alignItems:A?"stretch":"flex-end"},children:[m.jsx("input",{type:"text",placeholder:"Description",value:y.description||"",onChange:O=>v({...y,description:O.target.value}),required:!0,style:{flex:2,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("input",{type:"number",placeholder:"Amount",value:y.amount||"",onChange:O=>v({...y,amount:Number(O.target.value)}),min:"0",step:"0.01",required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsxs("select",{value:y.category_id||"",onChange:O=>v({...y,category_id:O.target.value}),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"},children:[m.jsx("option",{value:"",children:"Category"}),o.map(O=>m.jsx("option",{value:O.id,children:O.name},O.id))]}),m.jsxs("select",{value:y.frequency||"monthly",onChange:O=>v({...y,frequency:O.target.value}),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"},children:[m.jsx("option",{value:"monthly",children:"Monthly"}),m.jsx("option",{value:"weekly",children:"Weekly"}),m.jsx("option",{value:"custom",children:"Custom"})]}),m.jsx("input",{type:"date",value:y.next_due||"",onChange:O=>v({...y,next_due:O.target.value}),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontWeight:600,fontSize:15,cursor:"pointer",minWidth:70,width:A?"100%":void 0,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Add"})]}),m.jsx("div",{style:{overflowX:"auto",width:"100%",maxWidth:"100vw",boxSizing:"border-box"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:A?void 0:600,boxSizing:"border-box"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{background:"#f1f5f9"},children:[m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Description"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Amount"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Category"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Frequency"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Next Due"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Status"}),m.jsx("th",{style:{padding:"10px 6px",fontWeight:700,textAlign:"left",fontSize:15},children:"Actions"})]})}),m.jsx("tbody",{children:r.map(O=>{var z;return _===O.id?m.jsxs("tr",{style:{background:"#f8fafc"},children:[m.jsx("td",{children:m.jsx("input",{type:"text",value:k.description||"",onChange:D=>ue("description",D.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsx("input",{type:"number",value:k.amount||"",onChange:D=>ue("amount",Number(D.target.value)),min:"0",step:"0.01",style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsx("select",{value:k.category_id||"",onChange:D=>ue("category_id",D.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"},children:o.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))})}),m.jsx("td",{children:m.jsxs("select",{value:k.frequency||"monthly",onChange:D=>ue("frequency",D.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"},children:[m.jsx("option",{value:"monthly",children:"Monthly"}),m.jsx("option",{value:"weekly",children:"Weekly"}),m.jsx("option",{value:"custom",children:"Custom"})]})}),m.jsx("td",{children:m.jsx("input",{type:"date",value:k.next_due||"",onChange:D=>ue("next_due",D.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"}})}),m.jsx("td",{children:m.jsxs("select",{value:k.status||"active",onChange:D=>ue("status",D.target.value),style:{width:"100%",padding:"6px",borderRadius:5,border:"1px solid #cbd5e1",boxSizing:"border-box"},children:[m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"paused",children:"Paused"}),m.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),m.jsxs("td",{children:[m.jsx("button",{onClick:()=>B(O.id),style:{marginRight:6,background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Save"}),m.jsx("button",{onClick:()=>b(null),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]})]},O.id):m.jsxs("tr",{children:[m.jsx("td",{children:O.description}),m.jsx("td",{children:O.amount.toFixed(2)}),m.jsx("td",{children:((z=o.find(D=>D.id===O.category_id))==null?void 0:z.name)||""}),m.jsx("td",{children:O.frequency}),m.jsx("td",{children:O.next_due}),m.jsx("td",{children:O.status}),m.jsxs("td",{children:[m.jsx("button",{onClick:()=>Q(O),style:{marginRight:6,background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Edit"}),m.jsx("button",{onClick:()=>G(O.id),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Delete"})]})]},O.id)})})]})})]})};async function Qm(u){const{data:r,error:i}=await ge.from("shopping_lists").select("*").eq("household_id",u).order("created_at",{ascending:!0});if(i)throw new Error(i.message);return r}async function Jm(u){const{data:r,error:i}=await ge.from("shopping_lists").insert(u).select().single();if(i)throw new Error(i.message);return r}async function Gm(u,r){const{data:i,error:o}=await ge.from("shopping_lists").update(r).eq("id",u).select().single();if(o)throw new Error(o.message);return i}async function Ym(u){const{error:r}=await ge.from("shopping_lists").delete().eq("id",u);if(r)throw new Error(r.message)}function vf(u){let r=at.useRef(u);return at.useEffect(()=>{r.current=u}),at.useMemo(()=>(...i)=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)},[])}function Xm({defaultProp:u,onChange:r}){let i=at.useState(u),[o]=i,a=at.useRef(o),d=vf(r);return at.useEffect(()=>{a.current!==o&&(d(o),a.current=o)},[o,a,d]),i}function Zm({prop:u,defaultProp:r,onChange:i=()=>{}}){let[o,a]=Xm({defaultProp:r,onChange:i}),d=u!==void 0,f=d?u:o,p=vf(i),g=at.useCallback(y=>{if(d){let v=typeof y=="function"?y(u):y;v!==u&&p(v)}else a(y)},[d,u,a,p]);return[f,g]}var Vd=.3,e0=30,t0=u=>Math.pow(u-1,3)+1,Jl=(u,r,i)=>Math.max(r,Math.min(u,i)),n0=({className:u,children:r})=>at.createElement("div",{className:u,"data-rwp-wrapper":!0},r),Kd=({defaultValue:u,value:r,onValueChange:i,options:o,infinite:a=!1,visibleCount:d=20,dragSensitivity:f=3,optionItemHeight:p=30,classNames:g})=>{var y,v;let[_=(v=(y=o[0])==null?void 0:y.value)!=null?v:"",b]=Zm({defaultProp:u,prop:r,onChange:i}),k=L.useMemo(()=>{if(!a)return o;let F=[],te=Math.ceil(d/2);if(o.length===0)return F;for(;F.length<te;)F.push(...o);return F},[d,o,a]),R=p,N=R*.5,T=360/d,V=R/Math.tan(T*Math.PI/180),J=Math.round(V*2+R*.25),I=d>>2,K=f*10,ce=10,ee=L.useRef(null),Q=L.useRef(null),ue=L.useRef(null),B=L.useRef(0),G=L.useRef(0),A=L.useRef(!1),O=L.useRef(0),z=L.useRef({startY:0,yList:[],touchScroll:0,isClick:!0}),D=L.useRef(null),ie=L.useMemo(()=>{let F=(X,oe,de)=>at.createElement("li",{key:oe,className:g==null?void 0:g.optionItem,"data-slot":"option-item","data-rwp-option":!0,"data-index":oe,style:{top:-N,height:R,lineHeight:`${R}px`,transform:`rotateX(${de}deg) translateZ(${V}px)`,visibility:"hidden"}},X.label),te=k.map((X,oe)=>F(X,oe,-T*oe));if(a)for(let X=0;X<I;++X){let oe=-X-1,de=X+k.length;te.unshift(F(k[k.length-X-1],oe,T*(X+1))),te.push(F(k[X],de,-T*de))}return te},[R,N,a,T,k,I,V,g==null?void 0:g.optionItem]),_e=L.useMemo(()=>{let F=(X,oe)=>at.createElement("li",{key:oe,className:g==null?void 0:g.highlightItem,"data-slot":"highlight-item","data-rwp-highlight-item":!0,style:{height:R}},X.label),te=k.map((X,oe)=>F(X,oe));if(a){let X=k[0],oe=k[k.length-1];te.unshift(F(oe,"infinite-start")),te.push(F(X,"infinite-end"))}return te},[g==null?void 0:g.highlightItem,R,a,k]),me=L.useMemo(()=>{let F=0,te=Math.PI/180,X=[];for(let oe=I-1;oe>=-I+1;--oe){let de=oe*T,Te=R*Math.cos(de*te),Ce=F;F+=Te,X.push([Ce,F])}return X},[T,R,I]),H=F=>(F%k.length+k.length)%k.length,ae=F=>{let te=a?H(F):F;if(Q.current){let X=`translateZ(${-V}px) rotateX(${T*te}deg)`;Q.current.style.transform=X,Q.current.childNodes.forEach(oe=>{let de=oe,Te=Math.abs(Number(de.dataset.index)-te);de.style.visibility=Te>I?"hidden":"visible"})}return ue.current&&(ue.current.style.transform=`translateY(${-te*R}px)`),te},Y=()=>{cancelAnimationFrame(G.current)},E=(F,te,X,oe)=>{if(F===te||X===0){ae(F);return}let de=performance.now(),Te=te-F,Ce=Ye=>{let _t=(Ye-de)/1e3;if(_t<X){let Kn=t0(_t/X);B.current=ae(F+Kn*Te),G.current=requestAnimationFrame(Ce)}else Y(),B.current=ae(te),oe==null||oe()};requestAnimationFrame(Ce)},$=F=>{let te=H(F)|0,X=a?te:Math.min(Math.max(te,0),k.length-1);if(!a&&X!==F)return;B.current=ae(X);let oe=k[B.current];b(oe.value)},ve=F=>{let te=k.findIndex(X=>X.value===F);if(te===-1){console.error("Invalid value selected:",F);return}Y(),$(te)},we=F=>{let te=B.current,X=te+F;a?X=Math.round(X):X=Jl(Math.round(X),0,k.length-1);let oe=Math.abs(X-te);if(oe===0)return;let de=Math.sqrt(oe/5);Y(),E(te,X,de,()=>{$(B.current)})},ke=F=>{let te=ee.current;if(!te){console.error("Container reference is not set.");return}let{top:X}=te.getBoundingClientRect(),oe=F-X,de=me.findIndex(([Ce,Ye])=>oe>=Ce&&oe<=Ye);if(de===-1){console.error("No item found for click position:",oe);return}let Te=(I-de-1)*-1;we(Te)},be=F=>{var te,X;try{let oe=(F instanceof MouseEvent?F.clientY:(X=(te=F.touches)==null?void 0:te[0])==null?void 0:X.clientY)||0,de=z.current;de.isClick&&Math.abs(oe-de.startY)>5&&(de.isClick=!1),de.yList.push([oe,Date.now()]),de.yList.length>5&&de.yList.shift();let Te=(de.startY-oe)/R,Ce=B.current+Te;if(a)Ce=H(Ce);else{let Ye=k.length;Ce<0?Ce*=Vd:Ce>Ye&&(Ce=Ye+(Ce-Ye)*Vd)}de.touchScroll=ae(Ce)}catch(oe){console.error("Error in updateScrollDuringDrag:",oe)}},Re=F=>{!A.current&&!ee.current.contains(F.target)&&F.target!==ee.current||(F.cancelable&&F.preventDefault(),k.length&&be(F))},je=F=>{var te,X,oe;try{A.current=!0;let de=new AbortController,{signal:Te}=de;D.current=de;let Ce={signal:Te,passive:!1};(te=ee.current)==null||te.addEventListener("touchmove",Re,Ce),document.addEventListener("mousemove",Re,Ce);let Ye=(F instanceof MouseEvent?F.clientY:(oe=(X=F.touches)==null?void 0:X[0])==null?void 0:oe.clientY)||0,_t=z.current;_t.startY=Ye,_t.yList=[[Ye,Date.now()]],_t.touchScroll=B.current,_t.isClick=!0,Y()}catch(de){console.error("Error in initiateDragGesture:",de)}},Ae=L.useCallback(F=>{let te=A.current,X=ee.current.contains(F.target)||F.target===ee.current;(te||X)&&F.cancelable&&(F.preventDefault(),k.length&&je(F))},[je]),st=F=>{let te=B.current,X=te,oe=F>0?-K:K,de=0;if(a){de=Math.abs(F/oe);let Te=F*de+.5*oe*de*de;X=Math.round(te+Te)}else if(te<0||te>k.length-1){let Te=Jl(te,0,k.length-1),Ce=te-Te;oe=ce,de=Math.sqrt(Math.abs(Ce/oe)),F=oe*de,F=te>0?-F:F,X=Te}else{de=Math.abs(F/oe);let Te=F*de+.5*oe*de*de;X=Math.round(te+Te),X=Jl(X,0,k.length-1);let Ce=X-te;de=Math.sqrt(Math.abs(Ce/oe))}E(te,X,de,()=>{$(B.current)}),$(B.current)},kn=()=>{var F,te,X,oe;try{(F=D.current)==null||F.abort(),D.current=null;let de=z.current;if(de.isClick){ke(de.startY);return}let Te=de.yList,Ce=0;if(Te.length>1){let Ye=Te.length,[_t,Kn]=(te=Te[Ye-2])!=null?te:[0,0],[Ci,Pi]=(X=Te[Ye-1])!=null?X:[0,0],Qn=Pi-Kn;if(Qn>0){let En=(_t-Ci)/R*1e3/Qn,Ri=e0,jn=En>0?1:-1;Ce=Math.min(Math.abs(En),Ri)*jn}}B.current=(oe=de.touchScroll)!=null?oe:B.current,st(Ce)}catch(de){console.error("Error in finalizeDragAndStartInertiaScroll:",de)}finally{A.current=!1}},Hn=L.useCallback(F=>{if(!k.length)return;let te=A.current,X=ee.current.contains(F.target)||F.target===ee.current;(te||X)&&F.cancelable&&(F.preventDefault(),kn())},[kn]),bn=F=>{F.preventDefault();let te=Date.now();if(te-O.current<100)return;let X=Math.sign(F.deltaY);X&&(O.current=te,we(X))},Vn=L.useCallback(F=>{if(!k.length||!ee.current)return;let te=A.current,X=ee.current.contains(F.target)||F.target===ee.current;(te||X)&&F.cancelable&&(F.preventDefault(),bn(F))},[bn]);return L.useEffect(()=>{let F=ee.current;if(!F)return;let te=new AbortController,{signal:X}=te,oe={signal:X,passive:!1};return F.addEventListener("touchstart",Ae,oe),F.addEventListener("touchend",Hn,oe),F.addEventListener("wheel",Vn,oe),document.addEventListener("mousedown",Ae,oe),document.addEventListener("mouseup",Hn,oe),()=>te.abort()},[Hn,Ae,Vn]),L.useEffect(()=>{ve(_)},[_,r,k]),at.createElement("div",{ref:ee,"data-rwp":!0,style:{height:J}},at.createElement("ul",{ref:Q,"data-rwp-options":!0},ie),at.createElement("div",{className:g==null?void 0:g.highlightWrapper,"data-rwp-highlight-wrapper":!0,"data-slot":"highlight-wrapper",style:{height:R,lineHeight:`${R}px`}},at.createElement("ul",{ref:ue,"data-rwp-highlight-list":!0,style:{top:a?-R:void 0}},_e)))};const r0=({dollarValue:u,centValue:r,onDollarChange:i,onCentChange:o,minDollars:a=0,maxDollars:d=199,label:f,visibleCount:p=7,optionItemHeight:g=128})=>{const y=Array.from({length:d-a+1},(_,b)=>{const k=(b+a).toString();return{label:k,value:k}}),v=Array.from({length:100},(_,b)=>{const k=b.toString().padStart(2,"0");return{label:k,value:k}});return m.jsxs("div",{style:{width:400,display:"flex",flexDirection:"row",justifyContent:"center",gap:32,margin:"0 auto",padding:0},children:[f&&m.jsx("div",{style:{fontWeight:600,fontSize:18,marginRight:16},children:f}),m.jsxs(n0,{className:"w-full flex flex-row gap-8",children:[m.jsx(Kd,{options:y,value:u,onValueChange:i,visibleCount:p,optionItemHeight:g,classNames:{optionItem:"text-zinc-400 dark:text-zinc-500 text-2xl",highlightWrapper:"invisible",highlightItem:"invisible"}}),m.jsx(Kd,{options:v,value:r,onValueChange:o,visibleCount:p,optionItemHeight:g,classNames:{optionItem:"text-zinc-400 dark:text-zinc-500 text-2xl",highlightWrapper:"invisible",highlightItem:"invisible"}})]})]})},wf=()=>typeof window<"u"&&window.innerWidth<700,i0=()=>{const{household:u}=Yt(),[r,i]=L.useState([]),[o,a]=L.useState(null),[d,f]=L.useState(""),[p,g]=L.useState(null),[y,v]=L.useState(""),[_,b]=L.useState(null),k=wf();L.useEffect(()=>{u&&Qm(u.id).then(i).catch(J=>a(J.message))},[u]);const R=async J=>{if(J.preventDefault(),!(!u||!d.trim()))try{const I=await Jm({household_id:u.id,name:d.trim()});i([...r,I]),f("")}catch(I){a(I.message)}},N=J=>{g(J.id),v(J.name)},T=async J=>{try{const I=await Gm(J,{name:y});i(r.map(K=>K.id===J?I:K)),g(null),v("")}catch(I){a(I.message)}},V=async J=>{if(window.confirm("Delete this shopping list and all its items?"))try{await Ym(J),i(r.filter(I=>I.id!==J))}catch(I){a(I.message)}};return _?m.jsx(s0,{list:_,onBack:()=>b(null)}):m.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",padding:k?"1.2rem 0.5rem":"2rem 2.5rem",margin:k?"18px 0":"32px 0",maxWidth:520,width:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto"},children:[m.jsx("h2",{style:{fontWeight:700,fontSize:k?22:26,color:"#2d3748",marginBottom:10,textAlign:"center"},children:"Shopping Lists"}),o&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginBottom:10,fontWeight:500},children:o}),m.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:k?"column":"row",gap:k?10:8,marginBottom:18},children:[m.jsx("input",{type:"text",placeholder:"New list name",value:d,onChange:J=>f(J.target.value),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontWeight:600,fontSize:15,cursor:"pointer",minWidth:70,width:k?"100%":void 0,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Add"})]}),m.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:12},children:r.map(J=>m.jsx("li",{style:{display:"flex",alignItems:"center",gap:10,background:"#f8fafc",borderRadius:8,padding:"10px 12px"},children:p===J.id?m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"text",value:y,onChange:I=>v(I.target.value),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("button",{onClick:()=>T(J.id),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Save"}),m.jsx("button",{onClick:()=>g(null),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Cancel"})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{style:{flex:1,fontWeight:600,color:"#334155",fontSize:16,cursor:"pointer"},onClick:()=>b(J),children:J.name}),m.jsx("button",{onClick:()=>N(J),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer",marginRight:4},children:"Rename"}),m.jsx("button",{onClick:()=>V(J.id),style:{background:"#f1f5f9",color:"#334155",border:"none",borderRadius:5,padding:"6px 12px",fontWeight:600,cursor:"pointer"},children:"Delete"})]})},J.id))})]})},s0=({list:u,onBack:r})=>{const{household:i}=Yt(),{user:o}=Ir(),[a,d]=L.useState([]),[f,p]=L.useState(null),[g,y]=L.useState({item_name:"",amount:0,category_id:"",notes:"",is_purchased:!1,quantity:1}),[v,_]=L.useState([]),b=wf(),[k,R]=L.useState(!1),[N,T]=L.useState(null),[V,J]=L.useState("0"),[I,K]=L.useState("00"),[ce,ee]=L.useState("0"),[Q,ue]=L.useState("00"),[B,G]=L.useState(null);L.useEffect(()=>{if(!i)return;Promise.all([va(i.id),Ar(()=>Promise.resolve().then(()=>Im),void 0).then(ie=>ie.getCategoriesByHousehold(i.id))]).then(([ie,_e])=>{d(ie.filter(me=>me.shopping_list_id===u.id)),_(_e)}).catch(ie=>{p(ie.message)});const D=ge.channel(`shopping-list-items-${u.id}`).on("postgres_changes",{event:"*",schema:"public",table:"expenses",filter:`shopping_list_id=eq.${u.id}`},ie=>{ie.eventType==="INSERT"?d(_e=>[..._e,ie.new]):ie.eventType==="UPDATE"?d(_e=>_e.map(me=>me.id===ie.new.id?ie.new:me)):ie.eventType==="DELETE"&&d(_e=>_e.filter(me=>me.id!==ie.old.id))}).subscribe();return()=>{ge.removeChannel(D)}},[i,u.id]);const A=async D=>{var ae;if(D.preventDefault(),!i||!o||!((ae=g.item_name)!=null&&ae.trim()))return;const ie=Math.max(1,Number(g.quantity)||1),{quantity:_e,...me}=g,H=parseFloat(`${ce}.${Q.padStart(2,"0")}`);try{const Y=Array.from({length:ie}).map(()=>{var $;return sa({...me,household_id:i.id,shopping_list_id:u.id,created_by:o.id,is_recurring:!1,is_purchased:!1,date:new Date().toISOString().slice(0,10),amount:H,category_id:g.category_id||(($=v[0])==null?void 0:$.id)||"",item_name:g.item_name||""})}),E=await Promise.all(Y);d([...a,...E]),y({item_name:"",amount:0,category_id:"",notes:"",is_purchased:!1,quantity:1}),ee("0"),ue("00")}catch(Y){p(Y.message)}},O=async D=>{if(window.confirm("Delete this item?"))try{await la(D),d(a.filter(ie=>ie.id!==D))}catch(ie){p(ie.message)}},z=(D,ie)=>{if(!N)return;const _e=parseFloat(`${D}.${ie}`);oa(N.id,{amount:_e}).then(me=>{d(a.map(H=>H.id===N.id?me:H)),R(!1),T(null)})};return m.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 4px 24px 0 rgba(60,72,88,0.10)",padding:b?"1.2rem 0.5rem":"2rem 2.5rem",margin:b?"18px 0":"32px 0",maxWidth:520,width:"100%",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto",position:"relative",minHeight:b?"calc(100vh - 80px)":420,display:"flex",flexDirection:"column"},children:[m.jsx("button",{onClick:r,style:{position:"absolute",left:12,top:12,background:"none",border:"none",color:"#6366f1",fontWeight:700,fontSize:18,cursor:"pointer"},children:" Back"}),m.jsx("h2",{style:{fontWeight:700,fontSize:b?22:26,color:"#2d3748",marginBottom:10,textAlign:"center"},children:u.name}),f&&m.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",borderRadius:6,padding:"8px 12px",fontSize:15,textAlign:"center",marginBottom:10,fontWeight:500},children:f}),m.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:b?"column":"row",gap:b?10:8,marginBottom:18},children:[m.jsx("input",{type:"text",placeholder:"Item name",value:g.item_name||"",onChange:D=>y({...g,item_name:D.target.value}),required:!0,style:{flex:2,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("button",{type:"button",onClick:()=>{J(ce),K(Q),G("add"),R(!0)},style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,fontWeight:600,background:"#f1f5f9",color:"#334155",cursor:"pointer"},children:`Set Price${ce!=="0"||Q!=="00"?`: $${parseInt(ce,10)}.${Q.padStart(2,"0")}`:""}`}),m.jsx("input",{type:"number",placeholder:"Qty",value:g.quantity||1,onChange:D=>y({...g,quantity:Math.max(1,Number(D.target.value))}),min:"1",step:"1",required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"}}),m.jsx("select",{value:g.category_id||"",onChange:D=>y({...g,category_id:D.target.value}),required:!0,style:{flex:1,minWidth:0,width:"100%",padding:"10px 8px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:15,boxSizing:"border-box"},children:v.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))}),m.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontWeight:600,fontSize:15,cursor:"pointer",minWidth:70,width:b?"100%":void 0,boxShadow:"0 2px 8px 0 rgba(60,72,88,0.08)",transition:"background 0.2s"},children:"Add"})]}),m.jsxs("div",{style:{flex:1,overflowY:"auto",width:"100%",maxWidth:"100vw",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:12},children:[a.length===0&&m.jsx("div",{style:{color:"#64748b",fontSize:16,textAlign:"center",marginTop:24},children:"No items yet."}),a.map(D=>{var ie;return m.jsxs("div",{style:{background:"#f8fafc",borderRadius:10,boxShadow:"0 1px 4px 0 rgba(60,72,88,0.06)",padding:"12px 14px",display:"flex",alignItems:"center",gap:12,marginBottom:2,position:"relative"},children:[m.jsx("div",{style:{flex:2,fontWeight:600,color:"#2d3748",fontSize:16},children:D.item_name}),m.jsxs("div",{style:{flex:1,color:"#334155",fontSize:15},children:["$",D.amount.toFixed(2)]}),m.jsx("div",{style:{flex:1,color:"#64748b",fontSize:15},children:((ie=v.find(_e=>_e.id===D.category_id))==null?void 0:ie.name)||""}),m.jsxs("div",{style:{display:"flex",gap:8},children:[m.jsx("button",{onClick:()=>{T(D);const[_e,me]=D.amount.toFixed(2).split(".");J(_e),K(me),G("edit"),R(!0)},style:{background:"none",border:"none",color:"#6366f1",fontSize:20,cursor:"pointer",padding:4},"aria-label":"Edit",children:m.jsx("span",{role:"img","aria-label":"Edit",children:""})}),m.jsx("button",{onClick:()=>O(D.id),style:{background:"none",border:"none",color:"#ef4444",fontSize:20,cursor:"pointer",padding:4},"aria-label":"Delete",children:m.jsx("span",{role:"img","aria-label":"Delete",children:""})})]})]},D.id)})]}),k&&(N||B==="add")&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{R(!1),T(null)},children:m.jsxs("div",{style:{background:"#fff",borderRadius:24,boxShadow:"0 12px 48px 0 rgba(60,72,88,0.22)",padding:48,minWidth:480,maxWidth:"98vw",zIndex:101,display:"flex",flexDirection:"column",alignItems:"center",gap:32,position:"relative"},onClick:D=>D.stopPropagation(),children:[m.jsx("button",{onClick:()=>{R(!1),T(null)},style:{position:"absolute",top:18,right:22,background:"none",border:"none",fontSize:36,color:"#6366f1",cursor:"pointer",zIndex:2},"aria-label":"Close popup",children:""}),m.jsx("div",{style:{fontWeight:800,fontSize:32,color:"#2d3748",marginBottom:12},children:"Edit Price"}),m.jsx("div",{style:{width:400,display:"flex",flexDirection:"row",justifyContent:"center",gap:32,margin:"0 auto",padding:0},children:m.jsx(r0,{dollarValue:V,centValue:I,onDollarChange:J,onCentChange:K,visibleCount:7,optionItemHeight:128})}),m.jsx("button",{onClick:()=>{B==="add"?(ee(V),ue(I),R(!1),G(null)):(z(V,I),G(null))},style:{background:"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)",color:"#fff",border:"none",borderRadius:12,padding:"20px 0",fontWeight:800,fontSize:28,cursor:"pointer",minWidth:180,width:"100%",boxShadow:"0 4px 16px 0 rgba(60,72,88,0.12)",transition:"background 0.2s",marginTop:16},children:"+"})]})})]})},o0=()=>{const{user:u,loading:r}=Ir(),[i,o]=L.useState(navigator.onLine);return L.useEffect(()=>{const a=()=>o(!0),d=()=>o(!1);return window.addEventListener("online",a),window.addEventListener("offline",d),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",d)}},[]),r?m.jsx("div",{children:"Loading..."}):u?m.jsxs(Om,{children:[!i&&m.jsx("div",{style:{background:"#ffecb3",color:"#7c5c00",padding:"8px 0",textAlign:"center",fontWeight:600},children:"Offline mode: changes will sync when you reconnect."}),m.jsx(l0,{})]}):m.jsx(Am,{})},Qd=[{key:"categories",label:"Manage Categories",icon:"",component:Fm},{key:"budgets",label:"Manage Budgets",icon:"",component:qm},{key:"recurring",label:"Recurring Payments",icon:"",component:Km}],l0=()=>{const{household:u,loading:r}=Yt(),[i,o]=L.useState("dashboard"),[a,d]=L.useState(null),[f,p]=L.useState(!1),g=typeof window<"u"&&window.innerWidth<700;if(L.useEffect(()=>{const v=()=>{p(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),r)return m.jsx("div",{children:"Loading..."});if(!u)return m.jsx(Lm,{});const y=a?(()=>{const v=Qd.find(b=>b.key===a);if(!v)return null;const _=v.component;return m.jsxs("div",{style:{padding:g?0:12},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:18},children:[m.jsx("span",{style:{fontSize:24},children:v.icon}),m.jsx("span",{style:{fontWeight:700,fontSize:20},children:v.label})]}),m.jsx(_,{})]})})():null;return m.jsxs("div",{style:{minHeight:"100vh",background:"#f8fafc",display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{width:"100%",background:"#fff",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"center",gap:0,position:"sticky",top:0,zIndex:9},children:[m.jsx("span",{style:{fontWeight:700,fontSize:18,color:"#6366f1",letterSpacing:1,flex:1,textAlign:"left",paddingLeft:18},children:"Homebase"}),m.jsx("button",{onClick:()=>o("dashboard"),style:{flex:1,padding:"12px 0",background:i==="dashboard"?"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)":"none",color:i==="dashboard"?"#fff":"#334155",border:"none",fontWeight:600,fontSize:16,cursor:"pointer",borderBottom:i==="dashboard"?"2px solid #6366f1":"2px solid transparent",transition:"background 0.2s"},children:"Dashboard"}),m.jsx("button",{onClick:()=>o("shopping"),style:{flex:1,padding:"12px 0",background:i==="shopping"?"linear-gradient(90deg, #6366f1 0%, #60a5fa 100%)":"none",color:i==="shopping"?"#fff":"#334155",border:"none",fontWeight:600,fontSize:16,cursor:"pointer",borderBottom:i==="shopping"?"2px solid #6366f1":"2px solid transparent",transition:"background 0.2s"},children:"Shopping Lists"})]}),m.jsx("main",{style:{flex:1,padding:g?10:24,maxWidth:1200,margin:"0 auto",width:g?"95%":"100%"},children:i==="dashboard"?m.jsxs(m.Fragment,{children:[m.jsx(Um,{}),m.jsx(Nm,{}),m.jsx("button",{onClick:()=>p(!0),style:{position:"fixed",right:g?18:36,bottom:g?18:"auto",top:g?"auto":90,zIndex:30,background:"#6366f1",color:"#fff",border:"none",borderRadius:"50%",width:56,height:56,boxShadow:"0 4px 16px 0 rgba(60,72,88,0.12)",fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.2s"},"aria-label":"Manage",children:""}),f&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:40,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>p(!1),children:m.jsxs("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(60,72,88,0.18)",padding:g?12:32,minWidth:g?260:340,maxWidth:"90vw",display:"flex",flexDirection:"column",gap:18,position:"relative"},onClick:v=>v.stopPropagation(),children:[m.jsx("button",{onClick:()=>p(!1),style:{position:"absolute",top:10,right:10,background:"none",border:"none",fontSize:22,color:"#6366f1",cursor:"pointer"},"aria-label":"Close menu",children:""}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:Qd.map(v=>m.jsxs("button",{onClick:()=>{d(v.key),p(!1)},style:{display:"flex",alignItems:"center",gap:14,background:"#f1f5f9",color:"#334155",border:"none",borderRadius:8,padding:"16px 18px",fontWeight:600,fontSize:17,cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(60,72,88,0.06)",transition:"background 0.2s"},children:[m.jsx("span",{style:{fontSize:22},children:v.icon}),v.label]},v.key))})]})}),a&&m.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:50,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>d(null),children:m.jsxs("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(60,72,88,0.18)",padding:g?8:28,minWidth:g?260:400,maxWidth:"95vw",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:v=>v.stopPropagation(),children:[m.jsx("button",{onClick:()=>d(null),style:{position:"absolute",top:10,right:10,background:"none",border:"none",fontSize:22,color:"#6366f1",cursor:"pointer"},"aria-label":"Close modal",children:""}),y]})})]}):m.jsx(i0,{})})]})};jp.createRoot(document.getElementById("root")).render(m.jsx(at.StrictMode,{children:m.jsx(Tm,{children:m.jsx(o0,{})})}));
